<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hello World - Brandon Smart's Portfolio</title>
  <style>
    body {
      margin: 0;
      font-family: monospace;
      background: black;
      color: #0ff;
    }
    #loginOverlay {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: rgba(0,0,0,0.9);
      z-index: 9999;
    }
    .login-card {
      background: #111;
      border: 1px solid #0ff;
      padding: 20px;
      text-align: center;
      width: 300px;
    }
    .login-card input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      background: #000;
      border: 1px solid #0ff;
      color: #0ff;
    }
    .login-card button {
      padding: 10px 20px;
      background: #0ff;
      color: black;
      border: none;
      cursor: pointer;
    }
    #hud {
      opacity: 0;
      visibility: hidden;
      position: fixed;
      top: 10px;
      left: 10px;
      font-size: 14px;
    }
    #cornerGlobe {
      position: fixed;
      bottom: 10px;
      right: 10px;
      display: none;
    }
    #quoteBox {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #0ff;
      font-size: 18px;
      text-align: center;
    }
    #productions {
      margin-top: 100px;
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
      gap: 20px;
      padding: 20px;
    }
    .prod-card {
      background: #111;
      border: 1px solid #0ff;
      padding: 10px;
      cursor: pointer;
    }
    #lightbox {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      justify-content: center;
      align-items: center;
      z-index: 9998;
      flex-direction: column;
    }
    #lightbox img {
      max-width: 90%;
      max-height: 80%;
    }
    .lb-controls {
      margin-top: 10px;
    }
    .lb-controls button {
      background: #0ff;
      border: none;
      padding: 5px 10px;
      margin: 0 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- Login overlay -->
  <div id="loginOverlay">
    <div class="login-card">
      <h2>Enter Password</h2>
      <input type="password" id="loginPass" placeholder="Password" />
      <button id="loginBtn">Login</button>
    </div>
  </div>

  <!-- HUD -->
  <div id="hud">
    <div id="clock"></div>
    <div id="weather"></div>
    <div id="location"></div>
  </div>
  <div id="cornerGlobe">üåê</div>

  <!-- Quotes -->
  <div id="quoteBox"></div>

  <!-- Productions -->
  <div id="productions"></div>

  <!-- Lightbox -->
  <div id="lightbox" aria-hidden="true">
    <img id="lbImage" src="" alt="Production screenshot" />
    <div class="lb-controls">
      <button id="lbPrev">Prev</button>
      <button id="lbNext">Next</button>
      <button id="lbClose">Close</button>
    </div>
  </div>

<script>
/* === Login handler === */
(function(){
  const PASSWORD = 'mrsmart'; 
  const loginOverlay = document.getElementById('loginOverlay');
  const loginBtn = document.getElementById('loginBtn');
  const loginPass = document.getElementById('loginPass');

  function ensureErrorEl(){
    let el = document.getElementById('loginError');
    if(!el){
      el = document.createElement('div');
      el.id = 'loginError';
      el.setAttribute('role','alert');
      el.style.color = 'tomato';
      el.style.marginTop = '10px';
      el.style.fontSize = '13px';
      const loginCard = loginBtn.closest('.login-card') || document.body;
      loginCard.appendChild(el);
    }
    return el;
  }

  function showError(msg){
    const el = ensureErrorEl();
    el.textContent = msg;
  }
  function clearError(){
    const el = document.getElementById('loginError');
    if(el) el.textContent = '';
  }

  function handleLogin(){
    clearError();
    const attempt = (loginPass.value || '').trim();
    console.log('Login attempt ‚Äî', JSON.stringify(attempt));
    if(attempt === PASSWORD){
      loginOverlay.style.display = 'none';
      loginOverlay.setAttribute('aria-hidden','true');
      const hud = document.getElementById('hud');
      const globe = document.getElementById('cornerGlobe');
      if(hud){ hud.style.opacity='1'; hud.style.visibility='visible'; }
      if(globe){ globe.style.display='block'; }
      if (typeof startHud === 'function') startHud();
      if (typeof rotateQuote === 'function') rotateQuote();
      if (typeof updateWeather === 'function') updateWeather();
      if (typeof renderProductions === 'function') renderProductions();
    } else {
      showError('Wrong password ‚Äî try again.');
      loginPass.value = '';
      loginPass.focus();
    }
  }

  loginBtn.addEventListener('click', handleLogin);
  loginPass.addEventListener('keydown', e=>{
    if(e.key==='Enter'){ e.preventDefault(); handleLogin(); }
  });
})();

/* === HUD clock/weather/location === */
function startHud(){
  const clock = document.getElementById('clock');
  function updateClock(){
    clock.textContent = new Date().toLocaleTimeString();
  }
  setInterval(updateClock,1000);
  updateClock();

  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(pos=>{
      document.getElementById('location').textContent =
        `Lat: ${pos.coords.latitude.toFixed(2)}, Lon: ${pos.coords.longitude.toFixed(2)}`;
    });
  }
}
function updateWeather(){
  document.getElementById('weather').textContent = 'Weather: Clear 22¬∞C';
}

/* === Quotes rotation === */
const QUOTES = [
  "The future belongs to those who code it.",
  "Stay curious, stay creative.",
  "Hello World is just the beginning."
];
let qIndex=0;
function rotateQuote(){
  const box=document.getElementById('quoteBox');
  box.textContent=QUOTES[qIndex];
  qIndex=(qIndex+1)%QUOTES.length;
  setTimeout(rotateQuote,4000);
}

/* === Productions === */
const PROD1_IMAGES=["https://via.placeholder.com/600x400?text=Screenshot+1","https://via.placeholder.com/600x400?text=Screenshot+2"];
function renderProductions(){
  const cont=document.getElementById('productions');
  cont.innerHTML='';
  const card=document.createElement('div');
  card.className='prod-card';
  card.textContent='Production 1';
  card.addEventListener('click',()=>openLightbox(PROD1_IMAGES,0));
  cont.appendChild(card);
}

/* === Lightbox === */
let lbIndex=0, lbImages=[];
const lightbox=document.getElementById('lightbox');
const lbImage=document.getElementById('lbImage');
const lbClose=document.getElementById('lbClose');
const lbNext=document.getElementById('lbNext');
const lbPrev=document.getElementById('lbPrev');

function openLightbox(images,index){
  lbImages=images;
  lbIndex=index;
  lbImage.src=lbImages[lbIndex];
  lightbox.style.display='flex';
  lightbox.setAttribute('aria-hidden','false');
  lbImage.focus();
}
function closeLightbox(){
  lightbox.style.display='none';
  lightbox.setAttribute('aria-hidden','true');
}
function showNext(){
  lbIndex=(lbIndex+1)%lbImages.length;
  lbImage.src=lbImages[lbIndex];
}
function showPrev(){
  lbIndex=(lbIndex-1+lbImages.length)%lbImages.length;
  lbImage.src=lbImages[lbIndex];
}
lbClose.addEventListener('click',closeLightbox);
lbNext.addEventListener('click',showNext);
lbPrev.addEventListener('click',showPrev);
lightbox.addEventListener('click',e=>{
  if(e.target===lightbox) closeLightbox();
});
document.addEventListener('keydown',e=>{
  if(lightbox.style.display==='flex'){
    if(e.key==='Escape') closeLightbox();
    if(e.key==='ArrowRight') showNext();
    if(e.key==='ArrowLeft') showPrev();
  }
});
</script>
</body>
</html>