<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hello World - Brandon Smart's Portfolio</title>

<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

<style>
:root {
  --neon: #00e5ff;
  --panel: rgba(10,12,15,0.9);
  --hover: #00ffb3;
  --hud-w: 260px;
  --night-neon: #00ff00;
  --night-bg: #001100;
}
/* base styles */
* {box-sizing: border-box;}
html,body {
  height: 100%;
  margin: 0;
  font-family: 'Share Tech Mono', monospace;
  background: linear-gradient(180deg, #020203, #07080a);
  color: var(--neon);
  -webkit-font-smoothing: antialiased;
  user-select: none;
  overflow-x: hidden;
}

/* Background matrix style */
#matrix {
  position: fixed;
  top: 0; left: 0; width: 100%;
  height: 100%;
  z-index: 1;
  pointer-events: none;
  background: black;
  color: var(--neon);
  font-family: monospace;
  font-size: 8px;
  line-height: 8px;
  overflow: hidden;
  opacity: 0.08;
}
@keyframes fall {
  0% {transform: translateY(-100%);}
  100% {transform: translateY(100%);}
}
.matrix-column {
  position: absolute;
  top: -100%;
  width: 10px;
  animation: fall linear infinite;
  color: var(--neon);
  user-select:none;
}
/* Scanline overlay */
.scanline-overlay {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 999;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 229, 255, 0.1) 0,
    rgba(0, 229, 255, 0.15) 1px,
    transparent 2px,
    transparent 3px
  );
  opacity: 0.12;
  mix-blend-mode: screen;
}

/* GLOBE */
#cornerGlobe {
  position: fixed;
  top: 12px;
  right: 12px;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  z-index: 3002;
  pointer-events: none;
  -webkit-mask-image: radial-gradient(circle, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%);
  mask-image: radial-gradient(circle, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%);
  box-shadow: 0 0 20px var(--neon);
}

/* LOGIN same as before */
#loginOverlay {
  position: fixed; inset: 0; z-index: 1200;
  display: flex; align-items: center; justify-content: center;
  background: linear-gradient(180deg, rgba(0,0,0,0.98), rgba(0,0,0,0.98));
}
.login-card {
  width: 380px; padding: 28px; border-radius: 14px;
  background: linear-gradient(135deg, rgba(0,229,255,0.04), rgba(0,102,153,0.03));
  border: 1px solid rgba(0,229,255,0.12);
  box-shadow: 0 18px 60px rgba(0,0,0,0.7), inset 0 0 14px rgba(0,229,255,0.02);
  text-align: center;
  color: var(--neon);
}
.login-card h1 {
  font-weight: 700;
  margin: 0 0 12px;
  font-size: 20px;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  text-shadow: 0 0 5px var(--neon);
  user-select:none;
}
.login-input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 999px;
  border: 1px solid rgba(0,229,255,0.12);
  background: rgba(0,0,0,0.45);
  color: var(--neon);
  outline: none;
  font-size: 14px;
  font-family: 'Share Tech Mono', monospace;
  letter-spacing: 0.05em;
  transition: border-color 0.18s ease;
  user-select: text;
}
.login-input:focus { border-color: var(--hover);}
.login-actions { margin-top: 12px; display:flex; justify-content:center; gap:8px; }
.btn-primary {
  padding: 8px 16px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, var(--neon), #00bfff);
  color: #081018;
  font-weight: 700;
  font-size: 0.85em;
  letter-spacing: 0.1em;
  box-shadow: 0 0 24px var(--neon);
  user-select:none;
}
.btn-primary:hover { background: var(--hover); }
.login-sub {
  margin-top: 20px;
  font-weight: 600;
  color: rgba(0,229,255,0.7);
  font-size: 13px;
  user-select:none;
}

/* HUD with glow, no network bars */
#hud {
  position: fixed;
  top: 12px;
  left: 18px;
  width: var(--hud-w);
  padding: 10px 14px;
  border-radius: 12px;
  background: var(--panel);
  border: 1px solid rgba(0,229,255,0.15);
  box-shadow: 0 0 24px var(--neon);
  font-size: 13px;
  color: var(--neon);
  opacity: 0;
  visibility: hidden;
  text-align: left;
  z-index: 3000;
}
.hud-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 2px 0;
}
.hud-row i {
  min-width: 18px;
  flex-shrink: 0;
  vertical-align: middle;
}

/* radar animation */
.radar {
  position: relative;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 1.5px solid var(--neon);
  box-shadow: 0 0 8px var(--neon);
  overflow: visible;
  margin-left: auto;
}
.radar::before {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 140%; height: 140%;
  background: rgba(0, 229, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: pulse 2.5s infinite ease-out;
}
.radar::after {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 60%; height: 2px;
  background: var(--neon);
  border-radius: 2px;
  transform-origin: left center;
  animation: sweep 2.5s linear infinite;
}
@keyframes pulse {
  0% { box-shadow: 0 0 6px 6px rgba(0,229,255,0.3);}
  70% { box-shadow: 0 0 18px 20px rgba(0,229,255,0.0);}
  100% { box-shadow: 0 0 6px 6px rgba(0,229,255,0.0);}
}
@keyframes sweep {
  0% { transform: translate(-50%, -50%) rotate(0deg);}
  100% { transform: translate(-50%, -50%) rotate(360deg);}
}

/* MAIN layouts and style */
#main {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 120px 28px 60px;
  z-index: 1000;
}
.container {
  max-width: 1100px;
  width: 100%;
  display: flex;
  gap: 28px;
  align-items: flex-start;
  margin: 0 auto;
}
.leftCol {
  width: 320px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  align-items: flex-start;
}
.headerTitle {
  font-size: 20px;
  margin-bottom: 12px;
  color: var(--neon);
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  text-shadow: 0 0 8px var(--neon);
  position: relative;
  user-select: none;
}
.navItem {
  width: 100%;
  padding: 16px 14px;
  border-radius: 12px;
  cursor: pointer;
  background: linear-gradient(180deg, rgba(10,12,14,0.6), rgba(18,20,22,0.55));
  border: 1px solid rgba(0,229,255,0.04);
  color: var(--neon);
  font-weight: 700;
  letter-spacing: 0.07em;
  transition: all 0.2s ease;
  box-shadow: 0 0 6px rgba(0,229,255,0.3);
}
.navItem:hover {
  background: linear-gradient(180deg, var(--neon), #00bfff);
  color: #00111b;
  transform: translateY(-5px);
  box-shadow: 0 0 20px var(--neon);
  filter: drop-shadow(0 0 12px var(--neon));
  transition-delay: 0.1s;
}

/* rightCol: panels area */
.rightCol {
  flex: 1;
  min-height: 400px;
}

/* Panel cards with flicker glitch effect */
.panel {
  display: none;
  background: var(--panel);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid rgba(0,229,255,0.04);
  box-shadow: 0 20px 60px rgba(0,0,0,0.7);
  position: relative;
  max-height: 70vh;
  overflow: auto;
  color: var(--neon);
  font-size: 15px;
  letter-spacing: 0.04em;
  z-index: 1150;
  animation-duration: 1s;
  animation-fill-mode: forwards;
}
.panel.show {
  animation-name: flickerIn;
}
@keyframes flickerIn {
  0% {opacity: 0; filter: blur(3px) drop-shadow(0 0 0 #00e5ff);}
  50% {opacity: 1; filter: drop-shadow(0 0 12px #00e5ff);}
  100% {opacity: 1; filter: drop-shadow(0 0 6px #00e5ff);}
}

.panel h2 {
  margin-top: 0;
  margin-bottom: 14px;
  color: var(--hover);
  font-weight: 700;
  text-transform: uppercase;
  text-shadow: 0 0 12px var(--hover);
}
.reflection-typed {
  font-family: monospace;
  white-space: pre-wrap;
  font-size: 15px;
  line-height: 1.5em;
  color: var(--neon);
  letter-spacing: 0.05em;
  margin-bottom: 8px;
  position: relative;
  min-height: 12em;
}
.cursor {
  display: inline-block;
  width: 10px;
  margin-left: 6px;
  background: var(--neon);
  animation: cursorBlink 1s step-start infinite;
  vertical-align: middle;
}
@keyframes cursorBlink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* productions grid */
.productionsGrid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}
.prodCard {
  padding: 18px;
  border-radius: 10px;
  border: 1px solid rgba(0,229,255,0.05);
  background: linear-gradient(180deg, rgba(0,0,0,0.5), rgba(12,12,14,0.35));
  cursor: pointer;
  transition: all 0.18s ease;
  box-shadow: 0 0 6px rgba(0,229,255,0.15);
}
.prodCard h3 {
  margin: 0 0 8px;
  font-size: 16px;
  font-weight: 700;
  color: var(--hover);
  letter-spacing: 0.05em;
}
.prodCard p {
  font-size: 14px;
  font-weight: 500;
  color: rgba(0,229,255,0.7);
  letter-spacing: 0.03em;
}
.prodCard:hover {
  background: linear-gradient(180deg, var(--neon), #00bfff);
  color: #001018;
  transform: translateY(-6px);
  box-shadow: 0 20px 40px rgba(0,229,255,0.3);
}
.prodCard:hover h3 {
  color: #001018;
  filter: drop-shadow(0 0 8px var(--neon));
}

/* lightbox */
#lightbox {
  display: none;
  position: fixed;
  inset: 0;
  z-index: 1300;
  background: rgba(0,0,0,0.96);
  align-items: center;
  justify-content: center;
  flex-direction: column;
  transition: opacity 0.35s ease;
  opacity: 0;
}
#lightbox.show {
  display: flex;
  opacity: 1;
}
#lbImage {
  max-width: 80vw;
  max-height: 80vh;
  border: 3px solid var(--neon);
  border-radius: 8px;
  box-shadow: 0 0 48px #0af2;
  background: #000;
  transition: opacity 0.4s ease;
  opacity: 1;
  position: relative;
  z-index: 2;
}
.lbControls {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 14px;
  justify-content: center;
  z-index: 10;
  background: rgba(0,0,0,0.5);
  padding: 4px 16px;
  border-radius: 8px;
  user-select: none;
  pointer-events: auto;
}
.lbControls button {
  min-width: 60px;
  padding: 6px 14px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background: var(--neon);
  color: #001018;
  font-weight: 700;
  font-size: 0.9em;
  letter-spacing: 0.06em;
  transition: background 0.15s ease, color 0.15s ease, transform 0.15s ease;
}
.lbControls button:hover {
  background: var(--hover);
  color: #06222f;
  transform: translateY(-2px) scale(1.04);
}

/* back button */
.backBtn {
  margin-top: 12px;
  padding: 8px 12px;
  border-radius: 8px;
  background: transparent;
  border: 1px solid rgba(0,229,255,0.06);
  color: var(--neon);
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease;
}
.backBtn:hover {
  background: rgba(0,229,255,0.06);
  color: #001018;
}

/* quotes */
.quoteBox {
  margin-top: 40px;
  text-align: center;
  font-size: 16px;
  color: rgba(0,229,255,0.85);
  transition: opacity 0.6s ease;
  min-height: 40px;
}

/* interactive terminal input area fixed at bottom */
#commandLine {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--panel);
  box-shadow: 0 0 24px var(--neon);
  padding: 8px 16px;
  font-family: 'Share Tech Mono', monospace;
  font-size: 14px;
  color: var(--neon);
  display: flex;
  align-items: center;
  z-index: 4000;
}
#cmdPrompt {
  color: var(--neon);
  margin-right: 12px;
  font-weight: 700;
}
#cmdInput {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--neon);
  outline: none;
  font-family: inherit;
  font-size: inherit;
  letter-spacing: 0.04em;
}

/* glowing cursor trail on hover for nav items */
.navItem:hover::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 12px;
  box-shadow: 0 0 15px var(--neon);
  pointer-events: none;
  animation: pulseGlow 1.8s infinite ease-in-out;
}
@keyframes pulseGlow {
  0%,100% {box-shadow: 0 0 10px var(--neon);}
  50% {box-shadow: 0 0 24px var(--neon);}
}

/* night mode toggle button */
#toggleNight {
  position: fixed;
  top: 140px;
  right: 20px;
  padding: 8px 16px;
  background: var(--neon);
  color: #001018;
  border: none;
  border-radius: 9999px;
  font-weight: 700;
  cursor: pointer;
  user-select: none;
  z-index: 3500;
  filter: drop-shadow(0 0 5px var(--neon));
  transition: background 0.3s ease;
}
#toggleNight:hover {
  background: var(--hover);
}
.night-mode {
  --neon: var(--night-neon);
  background: var(--night-bg) !important;
  color: var(--night-neon) !important;
}
.night-mode #hud {
  background: rgba(0,17,0,0.9);
  border-color: rgba(0,255,0,0.15);
  box-shadow: 0 0 24px var(--neon);
}
.night-mode .panel {
  background: rgba(0,17,0,0.9);
  border-color: rgba(0,255,0,0.15);
  box-shadow: 0 0 18px var(--neon);
}
.night-mode .btn-primary {
  background: linear-gradient(135deg, var(--neon), #00ff00);
  color: #001018;
  box-shadow: 0 0 18px var(--neon);
}

/* responsive */
@media (max-width:980px) {
  .container {
    flex-direction: column;
  }
  .leftCol {
    width: 100%;
    order: 2;
  }
  .rightCol {
    order: 1;
  }
  #hud {
    left: 10px;
    top: 12px;
    width: 220px;
  }
  #cornerGlobe {
    width: 100px !important;
    height: 100px;
  }
  #toggleNight {
    top: 160px;
    right: 12px;
  }
}
</style>
</head>
<body>

<div id="matrix"></div>
<div class="scanline-overlay"></div>
<img src="images/globeglow.gif" id="cornerGlobe" alt="Globe Glow" style="display:none; border-radius:50%;" />

<!-- LOGIN -->
<div id="loginOverlay" role="dialog" aria-label="Login" aria-modal="true">
  <div class="login-card" role="document">
    <h1>Login</h1>
    <input id="loginPass" class="login-input" type="password" placeholder="Enter password" aria-label="Password" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    <div class="login-actions">
      <button id="loginBtn" class="btn-primary" aria-label="Enter">Enter</button>
    </div>
    <div class="login-sub">Enter the terminal</div>
  </div>
</div>

<!-- HUD -->
<div id="hud" aria-live="polite" aria-label="Heads Up Display">
  <div class="hud-row" id="hud-date"><i class="fa-regular fa-calendar"></i> <span id="hud-date-text">Loading date…</span></div>
  <div class="hud-row" id="hud-time"><i class="fa-regular fa-clock"></i> <span id="hud-time-text">--:--:--</span></div>
  <div class="hud-row" id="hud-loc"><i class="fa-solid fa-location-dot"></i> <span id="hud-city">Toronto</span></div>
  <div class="hud-row" id="hud-coords"><i class="fa-solid fa-crosshairs"></i> Coords: <span id="hud-coords-text">—</span></div>
  <div class="hud-row" id="hud-weather"><i class="fa-solid fa-cloud-sun"></i> <span id="hud-weather-text">—</span></div>
  <div class="hud-row">
    <div class="radar"></div>
  </div>
</div>

<!-- NIGHT MODE TOGGLE -->
<button id="toggleNight" aria-label="Toggle night mode">Toggle Night Mode</button>

<!-- MAIN -->
<main id="main">
  <div class="container">
    <div class="leftCol" aria-hidden="false">
      <div class="headerTitle">>: ["Hello World..."]</div>
      <div id="navWho" class="navItem" role="button" tabindex="0" aria-controls="whoPanel">Whoami</div>
      <div id="navRef" class="navItem" role="button" tabindex="0" aria-controls="refPanel">Reflection</div>
      <div id="navProd" class="navItem" role="button" tabindex="0" aria-controls="prodPanel">Productions</div>
      <div id="navRes" class="navItem" role="button" tabindex="0" aria-controls="resPanel">Resources</div>
      <div id="navContact" class="navItem" role="button" tabindex="0" aria-controls="contactPanel">Contact</div>
    </div>
    <div class="rightCol">
      <section id="whoPanel" class="panel" role="region" aria-labelledby="navWho">
        <h2>Whoami</h2>
        <p><strong>/BrandonSmart</strong><br>:-$ Teachable: ComputerTechnology</p>
        <button class="backBtn" onclick="closePanel('whoPanel')">← Back</button>
      </section>
      <section id="refPanel" class="panel" role="region" aria-labelledby="navRef">
        <h2>Reflection</h2>
        <div id="reflectionText" aria-live="polite"></div>
        <span class="cursor" id="reflectionCursor" aria-hidden="true"></span>
        <button class="backBtn" onclick="closePanel('refPanel')">← Back</button>
      </section>
      <section id="prodPanel" class="panel" role="region" aria-labelledby="navProd">
        <h2>Productions</h2>
        <div class="productionsGrid" id="productionsGrid">
          <div class="prodCard" data-index="0"><h3>Production 1: Power up</h3><p>View Content</p></div>
          <div class="prodCard" data-index="1"><h3>Production 2: New Literacies Reflection</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="2"><h3>Production 3: Critical Algorithmic Literacies and AI</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="3"><h3>Production 4: Graphic Novel</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="4"><h3>Production 5: On the Way to Video Inquiry</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="5"><h3>Production 6: Video Works</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="6"><h3>Production 7: Learning Principles</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="7"><h3>Production 8: World Building</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="8"><h3>Production 9: Twine</h3><p>Placeholder</p></div>
        </div>
        <button class="backBtn" onclick="closePanel('prodPanel')">← Back</button>
      </section>
      <section id="resPanel" class="panel" role="region" aria-labelledby="navRes">
        <h2>Resources</h2>
        <p><a href="https://youtube.com" target="_blank" rel="noopener">YouTube</a></p>
        <p><a href="https://google.ca" target="_blank" rel="noopener">Google</a></p>
        <p><a href="https://github.com" target="_blank" rel="noopener">GitHub</a></p>
        <button class="backBtn" onclick="closePanel('resPanel')">← Back</button>
      </section>
      <section id="contactPanel" class="panel" role="region" aria-labelledby="navContact">
        <h2>Contact</h2>
        <div class="contact-row">
          <i class="fa-solid fa-envelope"></i> <a href="mailto:bsmart@my.yorku.ca">bsmart@my.yorku.ca</a>
        </div>
        <button class="backBtn" onclick="closePanel('contactPanel')">← Back</button>
      </section>
    </div>
  </div>

  <!-- QUOTES -->
  <div id="quote" class="quoteBox">Loading inspiration…</div>
</main>

<!-- TERMINAL input -->
<div id="commandLine">
  <div id="cmdPrompt">&gt;</div>
  <input type="text" id="cmdInput" autocomplete="off" aria-label="Command line input" />
</div>

<!-- LIGHTBOX -->
<div id="lightbox" role="dialog" aria-hidden="true" style="display:none;">
  <img id="lbImage" src="" alt="Screenshot"/>
  <div class="lbControls">
    <button id="lbPrev">Prev</button>
    <button id="lbNext">Next</button>
    <button id="lbClose">Close</button>
  </div>
</div>

<!-- Wrong Password GIF Overlay -->
<div id="wrongGifOverlay" style="display:none; position:fixed; inset:0; justify-content:center; align-items:center; background: rgba(0,0,0,0.85); z-index:1500;">
  <img src="images/computer%20missing%20GIF.gif" alt="Wrong Password GIF" style="width:100%; height:100%; object-fit:cover;"/>
</div>

<!-- Audio -->
<audio id="loginAudioCorrect" src="sounds/BC_Audio.mp3" preload="auto"></audio>
<audio id="loginAudioWrong" src="sounds/Hacked%20computer-%20Sound%20Effect.mp3" preload="auto"></audio>
<audio id="keyboardClick" src="sounds/keyboard-click.mp3" preload="auto"></audio>

<script>
// Matrix animated background script
const matrix = document.getElementById('matrix');
const columns = Math.floor(window.innerWidth / 10);
const drops = Array(columns).fill(1);

function drawMatrix() {
  matrix.innerHTML = '';
  for (let i = 0; i < columns; i++) {
    const column = document.createElement('div');
    column.classList.add('matrix-column');
    column.style.left = (i * 10) + 'px';
    column.style.animationDuration = (Math.random() * 3 + 2) + 's';

    let content = '';
    let dropPos = drops[i];
    for (let j = 0; j < 20; j++) {
      content += String.fromCharCode(0x30A0 + Math.floor(Math.random() * 96)) + '<br>';
    }
    column.innerHTML = content;

    matrix.appendChild(column);

    drops[i]++;
    if (drops[i] * 10 > window.innerHeight && Math.random() > 0.975) {
      drops[i] = 0;
    }
  }
}
window.onload = () => { drawMatrix(); };
setInterval(drawMatrix, 150);

// Scanline overlay flicker
const scanlineOverlay = document.querySelector('.scanline-overlay');
setInterval(() => {
  scanlineOverlay.style.opacity = 0.1 + Math.random() * 0.1;
}, 1000 + Math.random() * 1000);

// Login sound and interaction
const keyClick = document.getElementById('keyboardClick');
document.querySelectorAll('.navItem').forEach(nav => {
  nav.addEventListener('click', () => {
    keyClick.currentTime = 0;
    keyClick.volume = 0.15;
    keyClick.play().catch(() => {});
  });
});

const OWM_API_KEY = '5043108521e5dc1feccf33701c3221bf';
const PROD1_IMAGES = [
  "images/Screenshot 2025-09-10 130926.png",
  "images/Screenshot 2025-09-10 123717.png",
  "images/Screenshot 2025-09-10 115645.png",
  "images/Screenshot 2025-09-10 114858.png",
  "images/Screenshot 2025-09-10 114832.png"
];

const loginOverlay = document.getElementById('loginOverlay');
const loginBtn = document.getElementById('loginBtn');
const loginPass = document.getElementById('loginPass');
const wrongGif = document.getElementById('wrongGifOverlay');
const loginAudioCorrect = document.getElementById('loginAudioCorrect');
const loginAudioWrong = document.getElementById('loginAudioWrong');

loginPass.addEventListener('keydown', e => { if(e.key==='Enter') loginBtn.click(); });

loginBtn.addEventListener('click', () => {
  const v = (loginPass.value || '').trim();
  if (v === 'mrsmart') {
    loginOverlay.style.display = 'none';
    document.getElementById('cornerGlobe').style.display = 'block';
    const hud = document.getElementById('hud');
    hud.style.opacity = '1';
    hud.style.visibility = 'visible';
    startHud();
    rotateQuotes();
    updateLocationWeather();

    loginAudioCorrect.muted = false;
    loginAudioCorrect.volume = 0.7;
    loginAudioCorrect.pause();
    loginAudioCorrect.currentTime = 0;
    loginAudioCorrect.play().catch(err => console.error('Audio failed:', err));
  } else {
    loginPass.value = '';
    loginPass.placeholder = 'Incorrect — try again';
    loginPass.focus();
    loginOverlay.animate([
      { transform: 'translateX(-2px)' },
      { transform: 'translateX(2px)' },
      { transform: 'translateX(0)' }
    ], { duration: 120, iterations: 3 });
    wrongGif.style.display = 'flex';
    loginAudioWrong.muted = false;
    loginAudioWrong.volume = 0.7;
    loginAudioWrong.pause();
    loginAudioWrong.currentTime = 0;
    loginAudioWrong.play().catch(err => console.error('Audio failed:', err));
    setTimeout(() => {
      wrongGif.style.display = 'none';
      loginAudioWrong.pause();
      loginAudioWrong.currentTime = 0;
    }, 2200);
  }
});

function startHud() {
  const timeEl = document.getElementById('hud-time-text');
  const dateEl = document.getElementById('hud-date-text');
  function updateHud() {
    const now = new Date();
    timeEl.textContent = now.toLocaleTimeString();
    dateEl.textContent = now.toDateString();
  }
  updateHud();
  setInterval(updateHud,1000);
}

function updateLocationWeather() {
  const cityEl = document.getElementById('hud-city');
  const coordsEl = document.getElementById('hud-coords-text');
  const weatherEl = document.getElementById('hud-weather-text');

  if (!navigator.geolocation) {
    coordsEl.textContent = 'Unavailable';
    weatherEl.textContent = 'Unavailable';
    return;
  }

  navigator.geolocation.getCurrentPosition(async pos => {
    const {latitude, longitude} = pos.coords;
    coordsEl.textContent = `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`;
    try {
      const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${OWM_API_KEY}&units=metric`);
      const data = await res.json();
      cityEl.textContent = data.name || 'Unknown';
      let desc = data.weather[0].description;
      desc = desc.charAt(0).toUpperCase() + desc.slice(1);
      weatherEl.textContent = `${desc}, ${data.main.temp.toFixed(1)}°C`;
    } catch(e) {
      weatherEl.textContent = 'Weather unavailable';
      console.error(e);
    }
  }, err => {
    coordsEl.textContent = 'Denied';
    weatherEl.textContent = 'Weather unavailable';
    console.error(err);
  });
}

function openPanel(id) {
  document.querySelectorAll('.panel').forEach(p => p.classList.remove('show'));
  document.getElementById(id).classList.add('show');
}

function closePanel(id) {
  const panel = document.getElementById(id);
  panel.classList.remove('show');
  if(id === 'refPanel') {
    if(typingTimer) clearInterval(typingTimer);
    typingTimer = null;
    window.speechSynthesis.cancel();
  }
}
document.querySelectorAll('.navItem').forEach(el => el.addEventListener('click', () => openPanel(el.getAttribute('aria-controls'))));

const reflectionEl = document.getElementById('reflectionText');
const reflections = [`Building this site has been a deep learning experience. As I create and structure each section, I notice how I interact differently with coding tools, the browser, and design interfaces compared to traditional classroom learning. 
Using HTML, CSS, and JavaScript forces me to think in terms of both logic and aesthetics, balancing functionality with appearance. The immediate feedback from the browser—seeing changes live, debugging errors, and watching animations or interactive elements respond—helps me internalize what works and what doesn’t. 
AI tools have been critical as a guide; they suggest code optimizations, point out mistakes, and sometimes give creative alternatives. 


I also consult online documentation, tutorials, and forums, and occasionally local communities of developers and students to see how they approach similar challenges. These resources, combined with AI guidance, create a learning loop: I try, I get feedback, I adjust, and I reflect. During the process, my emotions fluctuate—frustration appears when things break unexpectedly, curiosity drives me to experiment, and satisfaction comes from solving problems or achieving a visual effect I envisioned. 
The moment-to-moment learning differs from typical school exercises; it’s hands-on, iterative, and self-directed. There’s no prescribed path; success is measured by functioning code and the coherence of the site itself rather than grades.


Compared to prior learning experiences in school or workshops, this project requires simultaneous attention to multiple layers—technical, visual, and conceptual—making the process more holistic and immersive. Every design decision, from color choices to layout structure, is both a learning opportunity and an expression of creativity. 
The site acts as both a canvas and a feedback mechanism, reflecting my progress, mistakes, and growth in real time. Overall, the experience emphasizes experimentation, problem-solving, and reflection in ways that are more self-directed, interactive, and personally meaningful than traditional learning environments.`];
let typingTimer = null;
function typeReflection(text) {
  if (typingTimer) clearInterval(typingTimer);
  reflectionEl.textContent = '';
  let i = 0;
  speechSynthesis.cancel();
  const utter = new SpeechSynthesisUtterance(text);
  window.speechSynthesis.speak(utter);
  typingTimer = setInterval(() => {
    if (i < text.length) {
      reflectionEl.textContent += text[i];
      i++;
    } else {
      clearInterval(typingTimer);
      typingTimer = null;
    }
  }, 35);
}
document.getElementById('navRef').addEventListener('click', () => typeReflection(reflections[0]));

/* Production Lightbox code */
const productionImagesMap = {0: PROD1_IMAGES};
let currImages = [], currIndex = 0;
const lb = document.getElementById('lightbox');
const lbImg = document.getElementById('lbImage');
document.querySelectorAll('.prodCard').forEach(card => {
  card.addEventListener('click', () => {
    const idx = card.dataset.index;
    currImages = productionImagesMap[idx] || [];
    if(!currImages.length) return;
    currIndex = 0;
    lbImg.style.opacity = '0';
    setTimeout(() => {
      lbImg.src = currImages[currIndex];
      setTimeout(() => { lbImg.style.opacity = '1'; }, 60);
    }, 100);
    lb.style.display = 'flex';
    setTimeout(() => lb.classList.add('show'), 12);
  });
});
function updateLbImage() {
  lbImg.style.opacity = '0';
  setTimeout(() => {
    lbImg.src = currImages[currIndex];
    setTimeout(() => { lbImg.style.opacity = '1'; }, 60);
  }, 120);
}
document.getElementById('lbPrev').addEventListener('click', () => {
  if(!currImages.length) return;
  currIndex = (currIndex-1+currImages.length) % currImages.length;
  updateLbImage();
});
document.getElementById('lbNext').addEventListener('click', () => {
  if(!currImages.length) return;
  currIndex = (currIndex+1) % currImages.length;
  updateLbImage();
});
document.getElementById('lbClose').addEventListener('click', () => {
  lb.classList.remove('show');
  setTimeout(() => { lb.style.display = 'none'; }, 350);
});

/* Night mode toggle */
const toggleNight = document.getElementById('toggleNight');
toggleNight.addEventListener('click', () => {
  document.body.classList.toggle('night-mode');
});

/* Command line interactive widget */
const cmdInput = document.getElementById('cmdInput');
const cmdPrompt = document.getElementById('cmdPrompt');

cmdInput.addEventListener('keydown', e => {
  if(e.key === 'Enter') {
    const val = cmdInput.value.trim().toLowerCase();
    if(val === 'whoami') openPanel('whoPanel');
    else if(val === 'reflection') openPanel('refPanel');
    else if(val === 'productions') openPanel('prodPanel');
    else if(val === 'resources') openPanel('resPanel');
    else if(val === 'contact') openPanel('contactPanel');
    else alert(`Command not recognized: ${val}`);
    cmdInput.value = '';
  }
});
</script>

</body>
</html>
