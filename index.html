<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hello World - Brandon Smart's Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    :root { --neon: #00e5ff; --bg-dark: #030305; --panel: rgba(10, 12, 15, 0.9); --hover: #00ffb3; --hud-w: 260px; }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: 'Share Tech Mono', monospace; background: linear-gradient(180deg, #020203, #07080a); color: var(--neon);}
    .panel { display: none; background: var(--panel); border-radius: 12px; padding: 20px; border: 1px solid rgba(0,229,255,0.04); box-shadow: 0 20px 60px rgba(0,0,0,0.7); max-height: 80vh; overflow: auto; }
    .panel.show { display: block; }
    #reflectionText, #prod2ReflectionText { font-size: 15px; color: rgba(0,229,255,0.96); max-width: 600px; margin: 0 auto; }
    #reflectionText p, #prod2ReflectionText p { margin-bottom: 1.2em; text-indent: 1.5em; }
    .productionsGrid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; }
    .prodCard { cursor: pointer; background: linear-gradient(180deg, rgba(0,0,0,0.5), rgba(12,12,14,0.35)); border-radius: 10px; padding: 14px; border: 1px solid rgba(0,229,255,0.09);}
    .prodCard:hover { background: linear-gradient(180deg, var(--neon), #00bfff); color: #081018;}
    .backBtn { margin-top: 12px; padding: 8px 12px; border-radius: 8px; background: transparent; border: 1px solid rgba(0,229,255,0.06); color: var(--neon); cursor: pointer;}
    #lightbox { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.97); align-items: center; justify-content: center; flex-direction: column; z-index: 1300; }
    #lightbox.show { display: flex; }
    #lbImage { max-width: 80vw; max-height: 80vh; border: 3px solid var(--neon); border-radius: 8px; box-shadow: 0 0 48px #0af2;}
    .lbControls { margin-top: 22px; display: flex; gap: 10px; justify-content: center;}
    #hud { position: fixed; left: 18px; top: 12px; z-index: 1100; width: var(--hud-w); background: rgba(0,0,0,0.58); border-radius: 10px; padding: 10px 12px; }
    #terminalContainer { position: fixed; bottom: 0; left: 0; width: 100%; display: none; z-index: 2000; background: var(--panel);}
    #terminalInput { width: 80%; color: var(--neon);}
    .quoteBox { margin-top: 40px; text-align: center;}
    /* Add other, omitted styles for brevity if you have them in your original */
  </style>
</head>
<body>
<div id="hud">
  <div><span id="hud-date-text"></span></div>
  <div><span id="hud-time-text"></span></div>
  <div><span id="hud-city">City</span></div>
  <div>Coords: <span id="hud-coords-text">—</span></div>
  <div id="hud-weather-text">—</div>
</div>

<main>
  <div class="headerTitle" id="headerToggleTerminal" style="font-size:22px;cursor:pointer;text-align:center;">&gt;: ["Hello World..."]</div>
  <div style="display:flex; gap:20px; align-items:flex-start;">
    <nav>
      <div id="navWho" class="navItem" tabindex="0" aria-controls="whoPanel">Whoami</div>
      <div id="navRef" class="navItem" tabindex="0" aria-controls="refPanel">Reflection</div>
      <div id="navProd" class="navItem" tabindex="0" aria-controls="prodPanel">Productions</div>
      <div id="navRes" class="navItem" tabindex="0" aria-controls="resPanel">Resources</div>
      <div id="navContact" class="navItem" tabindex="0" aria-controls="contactPanel">Contact</div>
    </nav>
    <section class="rightCol">
      <section id="whoPanel" class="panel"><h2>Whoami</h2>
        <p><strong>/BrandonSmart</strong><br>:-$ Teachable: ComputerTechnology</p>
        <button class="backBtn" data-target="whoPanel">← Back</button>
      </section>
      <section id="refPanel" class="panel"><h2>Reflection</h2>
        <div id="reflectionText"></div>
        <button class="backBtn" data-target="refPanel">← Back</button>
      </section>
      <section id="prodPanel" class="panel"><h2>Productions</h2>
        <div class="productionsGrid" id="productionsGrid">
          <div class="prodCard" data-index="0"><h3>Production 1: Power up</h3><p>View Screenshots</p></div>
          <div class="prodCard" data-index="1"><h3>Production 2: New Literacies Reflection</h3><p>Read Reflection</p></div>
          <div class="prodCard" data-index="2"><h3>Production 3</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="3"><h3>Production 4</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="4"><h3>Production 5</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="5"><h3>Production 6</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="6"><h3>Production 7</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="7"><h3>Production 8</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="8"><h3>Production 9</h3><p>Placeholder</p></div>
        </div>
        <button class="backBtn" data-target="prodPanel">← Back</button>
      </section>
      <section id="prod2Panel" class="panel"><h2>Production 2: New Literacies Reflection</h2>
        <div id="prod2ReflectionText"></div>
        <button class="backBtn" data-target="prod2Panel">← Back</button>
      </section>
      <section id="resPanel" class="panel"><h2>Resources</h2>
        <p><a href="https://github.com/" target="_blank">GitHub</a></p>
        <p><a href="https://stackoverflow.com/" target="_blank">Stack Overflow</a></p>
        <p><a href="https://openweathermap.org/api" target="_blank">OpenWeatherMap API</a></p>
        <button class="backBtn" data-target="resPanel">← Back</button>
      </section>
      <section id="contactPanel" class="panel"><h2>Contact</h2>
        <div><a href="mailto:bsmart@my.yorku.ca">bsmart@my.yorku.ca</a></div>
        <button class="backBtn" data-target="contactPanel">← Back</button>
      </section>
    </section>
  </div>
  <div id="quote" class="quoteBox">Loading inspiration…</div>
</main>

<!-- Gallery Lightbox -->
<div id="lightbox">
  <img id="lbImage" src="" alt="Screenshot" />
  <div class="lbControls">
    <button id="lbPrev">Prev</button>
    <button id="lbNext">Next</button>
    <button id="lbClose">Close</button>
  </div>
</div>

<div id="terminalContainer">
  <div id="terminalContent"></div>
  <input id="terminalInput" type="text" autocomplete="off" placeholder="Type command... (reflection, production1, contact, resources, back)" aria-label="Terminal input" />
</div>

<script>
function initPortfolio() {
  // HUD
  function startHud() {
    const timeEl = document.getElementById('hud-time-text');
    const dateEl = document.getElementById('hud-date-text');
    function updateHud() {
      const now = new Date();
      document.getElementById('hud-time-text').textContent = now.toLocaleTimeString();
      document.getElementById('hud-date-text').textContent = now.toDateString();
    }
    updateHud();
    setInterval(updateHud, 1000);
  }

  // Weather/Location
  function updateLocationWeather() {
    const cityEl = document.getElementById('hud-city');
    const coordsEl = document.getElementById('hud-coords-text');
    const weatherEl = document.getElementById('hud-weather-text');
    if(!navigator.geolocation){
      coordsEl.textContent='Unavailable'; weatherEl.textContent='Unavailable'; return;
    }
    navigator.geolocation.getCurrentPosition(async pos => {
      const {latitude, longitude} = pos.coords;
      coordsEl.textContent = `${latitude.toFixed(3)}, ${longitude.toFixed(3)}`;
      try{
        // Insert your actual OpenWeatherMap API key below
        const apiKey = '5043108521e5dc1feccf33701c3221bf';
        const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric`);
        const data = await res.json();
        cityEl.textContent = data.name || 'Unknown';
        let desc = data.weather[0].description;
        desc = desc.charAt(0).toUpperCase() + desc.slice(1);
        weatherEl.textContent = `${desc}, ${data.main.temp.toFixed(1)}°C`;
      } catch(e){
        weatherEl.textContent='Weather unavailable';
      }
    }, err => {
      coordsEl.textContent='Denied';
      weatherEl.textContent='Weather unavailable';
    });
  }

  // Reflection text formatting
  function formatReflectionText(text) {
    return text.split(/\n{2,}/).map(p => `<p>${p.trim()}</p>`).join('');
  }

  // Quotes
  const quotes = [
    "Code is like humor. When you have to explain it, it’s bad.",
    "First, solve the problem. Then, write the code.",
    "Experience is the name everyone gives to their mistakes."
  ];
  let qidx = 0;
  setInterval(() => {
    document.getElementById('quote').textContent = quotes[qidx];
    qidx = (qidx+1)%quotes.length;
  }, 6000);

  // Panel navigation
  document.querySelectorAll('.navItem').forEach(el => {
    el.addEventListener('click', () => {
      openPanel(el.getAttribute('aria-controls'));
    });
  });
  document.querySelectorAll('.backBtn').forEach(btn => {
    btn.addEventListener('click', () => {
      closePanel(btn.dataset.target);
    });
  });
  function openPanel(id) {
    document.querySelectorAll('.panel').forEach(el => el.classList.remove('show'));
    document.getElementById(id).classList.add('show');
    if(id === 'refPanel')
      speakAndType(reflections[0]);
  }
  function closePanel(id) {
    document.getElementById(id).classList.remove('show');
    if(id === 'refPanel') {
      window.speechSynthesis.cancel();
    }
  }

  // Reflections
  const reflections = [
`Building my portfolio site was a mix of applying familiar design and coding skills while also facing new challenges as a learner.

Choosing GitHub Pages instead of drag-and-drop builders like Wix allowed me to work closely with the code and design, which suits my style of hands-on exploration.

An important feature I wanted was a weather widget, so I had to obtain an API key from OpenWeatherMap. This allowed me to access real-time weather data that updates automatically. I also came up with the idea to request the user's location with a prompt notification, respecting privacy concerns since some people might not want their location visible or shared. This made the experience more user-friendly and transparent.

Throughout the process, I encountered issues like broken layouts from small typos, inconsistent styling, and menus not linking correctly. These challenges required careful troubleshooting and multiple revisions. At times, it was frustrating when a single missing bracket caused the page to break, but solving these problems brought a rewarding sense of accomplishment.

AI tools like ChatGPT supported me by offering suggestions and helping refine my ideas. Rather than handing me answers, the AI guided me to consider alternative solutions—like having a resourceful brainstorming partner along the way. This was particularly useful when quick fresh ideas were needed.

I also relied heavily on community resources such as GitHub documentation, Stack Overflow, and conversations with classmates. Collaborating this way added a welcome social dimension, contrasting with the more independent work I usually do.

Emotionally, the process moved from curiosity and excitement to moments of irritation during debugging, and finally to satisfaction as the site came together to reflect my vision. This experience felt similar to how I approach new projects—through trial, error, and reflection—more than following a strict step-by-step formula.

Ultimately, this project reinforced that being an effective learner means staying patient, open-minded, and willing to work through challenges independently, regardless of prior experience.`
  ];
  document.getElementById('reflectionText').innerHTML = formatReflectionText(reflections[0]);
  const prod2Reflection = `YOUR_PROD2_REFLECTION_HERE`; // Replace with your reflection essay!
  document.getElementById('prod2ReflectionText').innerHTML = formatReflectionText(prod2Reflection);

  // Production 1 gallery
  const PROD1_IMAGES = [
    "images/Screenshot1.png",
    "images/Screenshot2.png",
    "images/Screenshot3.png"
  ];
  let currGallery = 0;
  document.querySelectorAll('.prodCard').forEach(card => {
    card.addEventListener('click', () => {
      const idx = parseInt(card.dataset.index);
      if(idx===0) {
        currGallery = 0;
        document.getElementById('lbImage').src = PROD1_IMAGES[currGallery];
        document.getElementById('lightbox').classList.add('show');
      }
      if(idx===1) openPanel('prod2Panel');
    });
  });
  document.getElementById('lbPrev').onclick = function() {
    currGallery = (currGallery-1+PROD1_IMAGES.length)%PROD1_IMAGES.length;
    document.getElementById('lbImage').src = PROD1_IMAGES[currGallery];
  };
  document.getElementById('lbNext').onclick = function() {
    currGallery = (currGallery+1)%PROD1_IMAGES.length;
    document.getElementById('lbImage').src = PROD1_IMAGES[currGallery];
  };
  document.getElementById('lbClose').onclick = function() {
    document.getElementById('lightbox').classList.remove('show');
  };

  // Terminal
  const terminalContainer = document.getElementById('terminalContainer');
  const terminalInput = document.getElementById('terminalInput');
  const terminalContent = document.getElementById('terminalContent');
  document.getElementById('headerToggleTerminal').onclick = function() {
    terminalContainer.style.display = terminalContainer.style.display === 'flex' ? 'none' : 'flex';
    terminalInput.focus();
  };
  terminalInput.addEventListener('keydown', e => {
    if(e.key==='Enter'){
      const cmd = terminalInput.value.trim().toLowerCase();
      terminalContent.textContent += '> '+cmd+'\n';
      terminalInput.value='';
      if(cmd==='reflection') openPanel('refPanel');
      else if(cmd==='productions') openPanel('prodPanel');
      else if(cmd==='resources') openPanel('resPanel');
      else if(cmd==='contact') openPanel('contactPanel');
      else if(cmd==='back') document.querySelectorAll('.panel').forEach(el=>el.classList.remove('show'));
      else terminalContent.textContent += 'Unknown command\n';
    }
  });

  // Text-to-speech (reflection panel)
  function speakAndType(text) {
    window.speechSynthesis.cancel();
    const reflectionEl = document.getElementById('reflectionText');
    reflectionEl.innerHTML = '';
    const paragraphs = text.split(/\n{2,}/);
    let pIndex = 0;
    function speakNext() {
      if(pIndex >= paragraphs.length) return;
      const utter = new SpeechSynthesisUtterance(paragraphs[pIndex]);
      utter.rate=1.1;
      window.speechSynthesis.speak(utter);
      reflectionEl.innerHTML += `<p>${paragraphs[pIndex]}</p>`;
      pIndex++;
      utter.onend = speakNext;
    }
    speakNext();
  }

  // HUD and Weather
  startHud();
  document.getElementById('hud-city').textContent = 'Click to enable location';
  document.getElementById('hud-city').onclick = updateLocationWeather;
}

if (document.readyState !== 'loading') {
  initPortfolio();
} else {
  document.addEventListener('DOMContentLoaded', initPortfolio);
}
</script>
</body>
</html>
