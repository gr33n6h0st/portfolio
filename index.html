<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Brandon Smart — Cyber Terminal Portfolio</title>

<!-- Font + Icons -->
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  :root{
    --neon: #00e5ff;
    --bg: #050507;
    --panel: rgba(10,12,15,0.8);
  }

  /* Reset & body */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Share Tech Mono',monospace;background:linear-gradient(180deg,#020203,#07080a); color:var(--neon); -webkit-font-smoothing:antialiased;}
  a{color:var(--neon); text-decoration:none}

  /* Scanlines overlay */
  .scanlines{
    pointer-events:none;
    position:fixed; inset:0; z-index:40;
    background:repeating-linear-gradient(to bottom, rgba(0,229,255,0.03) 0px, rgba(0,229,255,0.03) 1px, transparent 1px, transparent 3px);
    opacity:0.12;
    transition:opacity .35s ease;
  }

  /* LOGIN overlay (full screen, curved gradient card) */
  #login {
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:50;
    background: linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.55));
  }
  .login-card {
    width:360px; padding:28px; border-radius:18px;
    background: linear-gradient(135deg, rgba(0,229,255,0.06), rgba(0,102,153,0.04));
    border:1px solid rgba(0,229,255,0.14);
    box-shadow:0 8px 40px rgba(0,0,0,0.7), 0 0 18px rgba(0,229,255,0.06) inset;
    text-align:center;
    transform:translateY(0); transition:transform .28s ease;
  }
  .login-card h1{margin:0 0 12px; font-size:20px; color:var(--neon); text-shadow:0 0 10px rgba(0,229,255,0.12)}
  .login-input{
    width:100%; padding:12px 14px; border-radius:999px; border:1px solid rgba(0,229,255,0.14);
    background: rgba(0,0,0,0.45); color:var(--neon); outline:none; font-size:14px;
    box-shadow: 0 4px 14px rgba(0,0,0,0.6) inset;
  }
  .login-actions{display:flex; gap:14px; justify-content:center; margin-top:16px; align-items:center}
  .btn-primary{
    padding:10px 20px; border-radius:999px; border:none; cursor:pointer;
    background:linear-gradient(135deg,var(--neon), #00bfff); color:#081018; font-weight:700;
    box-shadow:0 10px 30px rgba(0,229,255,0.12);
  }
  .btn-primary:hover{transform:translateY(-3px)}
  .login-note{font-size:12px; color:rgba(0,229,255,0.65); margin-top:10px}

  /* HUD (hidden until login) */
  #hud {
    position:fixed; left:18px; top:12px; z-index:45;
    background:linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35));
    border:1px solid rgba(0,229,255,0.07); padding:10px 14px; border-radius:10px;
    box-shadow:0 6px 20px rgba(0,0,0,0.6);
    opacity:0; visibility:hidden; transform:translateY(-6px); transition:all .35s ease;
    min-width:240px;
  }
  #hud.active{opacity:1; visibility:visible; transform:translateY(0);}

  #hud .row{display:flex; gap:10px; align-items:center; font-size:13px; color:var(--neon)}
  #hud .small{font-size:12px; color:rgba(0,229,255,0.85)}

  /* Main center home (categories + quote) */
  #home {
    position:relative; z-index:30; min-height:100vh; display:flex; align-items:center; justify-content:center;
  }
  .home-inner{max-width:960px; width:100%; padding:120px 30px; text-align:center}
  .title{font-size:20px; margin-bottom:18px}
  .categories{
    display:flex; gap:18px; justify-content:center; flex-wrap:wrap;
    margin: 16px 0 24px;
  }
  .category {
    padding:18px 26px; border-radius:14px; cursor:pointer; font-weight:700;
    background: linear-gradient(180deg, rgba(10,12,14,0.6), rgba(18,20,22,0.55));
    border:1px solid rgba(0,229,255,0.06);
    box-shadow: 0 8px 20px rgba(0,0,0,0.6);
    transition: transform .25s ease, box-shadow .25s ease, color .2s ease, background .2s ease;
    color:var(--neon);
  }
  .category:hover{ transform:translateY(-6px); box-shadow:0 20px 40px rgba(0,229,255,0.06); color:#00111b; background:linear-gradient(180deg, var(--neon), #00bfff); }

  .quote {
    margin-top:36px; font-size:15px; color:rgba(0,229,255,0.95); max-width:820px; margin-left:auto; margin-right:auto;
    opacity:0; transform:translateY(6px); transition:all .6s cubic-bezier(.2,.9,.2,1);
  }
  .quote.visible{opacity:1; transform:translateY(0);}

  /* Panels (sections) */
  .panel {
    position:fixed; inset:80px 60px 60px 60px; background:var(--panel); border-radius:14px; z-index:35;
    padding:28px; display:none; flex-direction:column; gap:12px; overflow:auto;
    border:1px solid rgba(0,229,255,0.04);
    box-shadow: 0 15px 60px rgba(0,0,0,0.7);
    transition:opacity .28s ease, transform .28s ease;
  }
  .panel.show{display:flex; opacity:1; transform:translateY(0);}
  .panel.hide { opacity:0; transform:translateY(8px) }

  .panel h2{margin:0 0 8px; color:var(--neon)}
  .panel p{line-height:1.6; color:rgba(0,229,255,0.96)}

  /* Reflection typing + cursor */
  #reflection-text{white-space:pre-wrap; font-size:14px; color:rgba(0,229,255,0.95)}
  .cursor { display:inline-block; width:10px; margin-left:6px; background:var(--neon); animation:blink 1s steps(2) infinite; vertical-align:middle; }
  @keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}

  /* Productions list */
  .productions-list{display:flex; flex-wrap:wrap; gap:12px}
  .prod {
    flex:1 1 300px; min-width:220px;
    background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(10,10,12,0.55));
    border-radius:12px; padding:16px; border-left:4px solid rgba(0,229,255,0.06);
    transition:box-shadow .3s ease, transform .25s;
  }
  .prod h3{margin:0 0 6px; font-size:16px}
  .prod p{margin:0; font-size:13px; color:rgba(0,229,255,0.9)}
  .prod.glow-title h3{ text-shadow:0 0 12px var(--neon); color:#fff }

  /* Contact row */
  .contact-row{display:flex;gap:12px;align-items:center}
  .mail { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; background:rgba(0,229,255,0.03); border:1px solid rgba(0,229,255,0.04) }

  /* Back button */
  .back {
    margin-top:18px; align-self:flex-start; padding:8px 14px; border-radius:10px; cursor:pointer;
    background:transparent; border:1px solid rgba(0,229,255,0.06); color:var(--neon)
  }
  .back:hover{ background:rgba(0,229,255,0.06); color:#00161b }

  /* small responsive tweaks */
  @media (max-width:700px){
    .panel{inset:60px 18px 60px 18px}
    .home-inner{padding:40px 18px}
    .categories{gap:12px}
  }
</style>
</head>
<body>
  <div class="scanlines" id="scanlines"></div>

  <!-- LOGIN OVERLAY -->
  <div id="login" aria-hidden="false">
    <div class="login-card" role="dialog" aria-label="Login">
      <h1>Login</h1>
      <input id="passwordInput" class="login-input" type="password" placeholder="Enter password" autocomplete="off" />
      <div class="login-actions">
        <button class="btn-primary" id="loginBtn">Enter</button>
      </div>
      <div class="login-note">Type the password to unlock the terminal</div>
    </div>
  </div>

  <!-- HUD (hidden until login) -->
  <div id="hud">
    <div class="row small" id="dateTime">Loading date/time…</div>
    <div class="row small" id="cityRow"><i class="fa-solid fa-location-dot"></i> <span id="cityName">—</span></div>
    <div class="row small" id="coordsRow">Coords: <span id="coords">—</span></div>
    <div class="row small" id="weatherRow"><i class="fa-solid fa-cloud-sun"></i> <span id="weatherText">—</span></div>
  </div>

  <!-- HOME (categories + quote) -->
  <main id="home" aria-hidden="true">
    <div class="home-inner">
      <div class="title">Welcome — Brandon Smart's Cyber Terminal Portfolio</div>

      <div class="categories" role="navigation" aria-label="Main categories">
        <div class="category" data-target="whoami" tabindex="0"> <i class="fa-solid fa-user"></i> Whoami</div>
        <div class="category" data-target="reflection" tabindex="0"> <i class="fa-solid fa-pen-nib"></i> Reflection</div>
        <div class="category" data-target="productions" tabindex="0"> <i class="fa-solid fa-layer-group"></i> Productions</div>
        <div class="category" data-target="contact" tabindex="0"> <i class="fa-solid fa-envelope"></i> Contact</div>
      </div>

      <div id="quote" class="quote"></div>
    </div>
  </main>

  <!-- PANELS (hidden until shown) -->
  <section id="whoami" class="panel" aria-hidden="true">
    <h2>root@portfolio:~$ whoami</h2>
    <p><strong>Brandon Smart</strong><br/>Teachable: Computer Technology</p>
    <button class="back" data-action="home">Return</button>
  </section>

  <section id="reflection" class="panel" aria-hidden="true">
    <h2>root@portfolio:~$ reflection</h2>
    <div id="reflection-text" style="font-size:14px;color:rgba(0,229,255,0.95)"></div><span id="reflection-cursor" class="cursor" aria-hidden="true"></span>
    <button class="back" data-action="home">Return</button>
  </section>

  <section id="productions" class="panel" aria-hidden="true">
    <h2>root@portfolio:~$ productions</h2>
    <div class="productions-list" id="productions-list">
      <!-- 9 production cards -->
      <div class="prod"><h3>Production 1: Power Up</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 2: New Literacies Reflection</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 3: Critical Algorithmic Literacies and AI</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 4: Graphic Novel</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 5: On the Way to Video Inquiry</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 6: Video Works</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 7: Learning Principles</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 8: World Building</h3><p>Placeholder content.</p></div>
      <div class="prod"><h3>Production 9: Twine</h3><p>Placeholder content.</p></div>
    </div>
    <button class="back" data-action="home">Return</button>
  </section>

  <section id="contact" class="panel" aria-hidden="true">
    <h2>root@portfolio:~$ contact</h2>
    <div class="contact-row">
      <div class="mail">
        <i class="fa-solid fa-envelope"></i>
        <a href="mailto:bsmart@my.yorku.ca">bsmart@my.yorku.ca</a>
      </div>
    </div>
    <button class="back" data-action="home">Return</button>
  </section>

<script>
/* ===== CONFIG ===== */
const CORRECT_PASSWORD = '1234';            // change if needed
const OWM_API_KEY = '5043108521e5dc1feccf33701c3221bf'; // your OpenWeatherMap key (you gave this earlier)

/* ===== ELEMENTS ===== */
const loginOverlay = document.getElementById('login');
const loginBtn = document.getElementById('loginBtn') || document.getElementById('loginBtn'); // fallback
const passwordInput = document.getElementById('passwordInput');
const hud = document.getElementById('hud');
const home = document.getElementById('home');
const quoteEl = document.getElementById('quote');
const scanlines = document.getElementById('scanlines');

const panels = {
  whoami: document.getElementById('whoami'),
  reflection: document.getElementById('reflection'),
  productions: document.getElementById('productions'),
  contact: document.getElementById('contact')
};

let reflectionInterval = null;
let quoteTimeout = null;
let productionGlowTimeouts = [];

/* ===== HELPERS ===== */
function showHUD() {
  hud.classList.add('active');
  // lower scanline visibility for readability
  scanlines.style.opacity = '0.06';
}

function hideLogin() {
  loginOverlay.style.display = 'none';
}

function showHome() {
  // hide panels
  Object.values(panels).forEach(p => {
    p.classList.remove('show'); p.classList.add('hide'); p.setAttribute('aria-hidden','true');
    setTimeout(()=>{ p.style.display='none'; }, 300);
  });
  // show home
  home.style.display = 'block';
  home.setAttribute('aria-hidden','false');
  // make quote visible (typing will also run)
  quoteEl.classList.add('visible');
}

function hideHome() {
  home.style.display = 'none';
  home.setAttribute('aria-hidden','true');
  quoteEl.classList.remove('visible');
}

/* ===== LOGIN ===== */
document.querySelector('.btn-primary').addEventListener('click', checkPassword);
passwordInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') checkPassword(); });

function checkPassword(){
  const val = passwordInput.value || '';
  if(val === CORRECT_PASSWORD){
    // hide login, show HUD + home
    hideLogin();
    showHUD();
    showHome();
    startDateTime();
    startGeoAndWeather();
    startQuoteTyping();
  } else {
    // slight shake / feedback
    passwordInput.value = '';
    passwordInput.placeholder = 'Incorrect — try again';
    passwordInput.focus();
  }
}

/* ===== DATE / TIME ===== */
function startDateTime(){
  const dtEl = document.getElementById('dateTime');
  function update(){
    const now = new Date();
    const opts = { weekday:'long', month:'long', day:'numeric' };
    const date = now.toLocaleDateString(undefined, opts);
    const time = now.toLocaleTimeString();
    dtEl.textContent = `${date} — ${time}`;
  }
  update(); setInterval(update,1000);
}

/* ===== GEO + WEATHER ===== */
async function startGeoAndWeather(){
  const coordsEl = document.getElementById('coords');
  const cityEl = document.getElementById('cityName');
  const weatherEl = document.getElementById('weatherText');

  function fallbackDisplay(){
    coordsEl.textContent = '—';
    cityEl.textContent = 'Toronto';
    weatherEl.textContent = '—';
  }

  if(!navigator.geolocation){
    fallbackDisplay();
    return;
  }

  navigator.geolocation.getCurrentPosition(async (pos)=>{
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    coordsEl.textContent = `${lat.toFixed(2)}, ${lon.toFixed(2)}`;

    // call OpenWeatherMap
    try {
      const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${OWM_API_KEY}&units=metric`);
      if(!res.ok) throw new Error('weather fetch failed');
      const data = await res.json();
      const t = Math.round(data.main.temp);
      const desc = data.weather[0].main;
      cityEl.textContent = data.name || '—';
      weatherEl.textContent = `${t}°C, ${desc}`;
    } catch(err){
      // fallback to simple display
      cityEl.textContent = 'Unknown';
      weatherEl.textContent = 'Unavailable';
      console.error('Weather error', err);
    }
  }, (err)=>{
    console.warn('Geolocation denied / error', err);
    // fallback: try OpenWeatherMap with Toronto
    try {
      fetch(`https://api.openweathermap.org/data/2.5/weather?q=Toronto&appid=${OWM_API_KEY}&units=metric`)
        .then(r=>r.json()).then(data=>{
          if(data && data.main){
            document.getElementById('cityName').textContent = data.name;
            document.getElementById('coords').textContent = `${data.coord.lat.toFixed(2)}, ${data.coord.lon.toFixed(2)}`;
            document.getElementById('weatherText').textContent = `${Math.round(data.main.temp)}°C, ${data.weather[0].main}`;
          } else {
            document.getElementById('cityName').textContent = 'Toronto';
            document.getElementById('weatherText').textContent = 'Unavailable';
          }
        });
    } catch(e){ fallbackDisplay(); }
  }, {timeout:7000});
}

/* ===== PANEL / NAV ===== */
function hideAllPanelsInstant(){
  Object.values(panels).forEach(p=>{
    p.style.display='none'; p.classList.remove('show'); p.classList.remove('hide'); p.setAttribute('aria-hidden','true');
  });
}

function openPanel(id){
  // stop any animations from other panels
  stopReflectionTyping();
  clearProductionGlow();

  // hide home and any visible panels
  hideHome();
  hideAllPanelsInstant();

  const panel = panels[id];
  if(!panel) return;

  // display panel then animate in
  panel.style.display = 'flex';
  panel.classList.remove('hide');
  panel.classList.add('show');
  panel.setAttribute('aria-hidden','false');

  // panel-specific behaviors
  if(id === 'reflection') startReflectionTyping();
  if(id === 'productions') startProductionGlow();
}

/* add click handling to categories */
document.querySelectorAll('.category').forEach(el=>{
  el.addEventListener('click', ()=> openPanel(el.dataset.target));
  el.addEventListener('keydown', (e)=>{ if(e.key==='Enter') openPanel(el.dataset.target); });
});

/* back buttons */
document.querySelectorAll('.back').forEach(b=>{
  b.addEventListener('click', ()=>{ // return to home
    // hide panels smoothly
    Object.values(panels).forEach(p=>{ p.classList.remove('show'); p.classList.add('hide'); setTimeout(()=>{ p.style.display='none'; },280); });
    // stop effects
    stopReflectionTyping(); clearProductionGlow();
    // show home
    setTimeout(()=> { showHome(); }, 260);
  });
});

/* ===== REFLECTION TYPING ===== */
const reflectionText = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."; // replace with your reflection later
const reflectionEl = document.getElementById('reflection-text');
const reflectionCursor = document.getElementById('reflection-cursor');

function startReflectionTyping(){
  stopReflectionTyping();
  reflectionEl.textContent = '';
  reflectionCursor.style.display = 'inline-block';
  let i = 0;
  reflectionInterval = setInterval(()=>{
    reflectionEl.textContent += reflectionText.charAt(i);
    i++;
    if(i >= reflectionText.length){ clearInterval(reflectionInterval); reflectionInterval = null; }
  }, 28);
}
function stopReflectionTyping(){
  if(reflectionInterval){ clearInterval(reflectionInterval); reflectionInterval = null; }
  reflectionCursor.style.display = 'none';
}

/* ===== QUOTE TYPING on HOME ===== */
const fullQuote = `"Sometimes it is the people who no one imagines anything of, who do the things that no one can imagine" — Alan Turing`;
function startQuoteTyping(){
  if(quoteTimeout){ clearTimeout(quoteTimeout); quoteTimeout = null; }
  quoteEl.textContent = '';
  quoteEl.classList.remove('visible');
  // small delay to mimic terminal: then reveal element and type
  setTimeout(()=>{
    quoteEl.classList.add('visible');
    let i = 0;
    const t = setInterval(()=>{
      quoteEl.textContent += fullQuote.charAt(i);
      i++;
      if(i >= fullQuote.length) clearInterval(t);
    }, 28);
  }, 300);
}

/* ===== PRODUCTIONS glow sequence ===== */
function startProductionGlow(){
  const items = Array.from(document.querySelectorAll('#productions-list .prod'));
  // clear any previous
  clearProductionGlow();
  items.forEach((el, idx)=>{
    const delay = idx * 180;
    const to = setTimeout(()=> el.classList.add('glow-title'), delay);
    productionGlowTimeouts.push(to);
  });
}
function clearProductionGlow(){
  document.querySelectorAll('#productions-list .prod').forEach(el=> el.classList.remove('glow-title'));
  productionGlowTimeouts.forEach(t => clearTimeout(t));
  productionGlowTimeouts = [];
}

/* ===== UTIL: show home quickly on initial load but hidden until login ===== */
hideAllPanelsInstant();
home.style.display = 'none';
quoteEl.classList.remove('visible');

/* Keyboard: escape => go home */
document.addEventListener('keydown',(e)=>{
  if(e.key === 'Escape'){
    // if any panel visible, go home
    const anyVisible = Object.values(panels).some(p=> p.style.display === 'flex');
    if(anyVisible){
      document.querySelectorAll('.back').forEach(b=> b.click());
    }
  }
});
</script>
</body>
</html>
