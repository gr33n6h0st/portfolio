<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hello World - Brandon Smart's Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
:root {
  --neon: #00e5ff;
  --bg-dark: #030305;
  --panel: rgba(10, 12, 15, 0.9);
  --hover: #00ffb3;
  --hud-w: 260px;
  --font-main: 'Share Tech Mono', monospace;
}
* {
  box-sizing: border-box;
}
html, body {
  height: 100%;
  margin: 0;
  font-family: var(--font-main);
  background: linear-gradient(180deg, #020203, #07080a);
  color: var(--neon);
  -webkit-font-smoothing: antialiased;
}
a {
  color: var(--neon);
  text-decoration: none;
  transition: color 0.18s ease;
}
a:hover {
  color: var(--hover);
}
.scanlines {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 40;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0, 229, 255, 0.03) 0px,
    rgba(0, 229, 255, 0.03) 1px,
    transparent 1px,
    transparent 3px
  );
  opacity: 0.12;
}
@keyframes hudPulse {
  0%, 100% {
    text-shadow: 0 0 4px var(--neon), 0 0 8px var(--neon);
    opacity: 1;
  }
  50% {
    text-shadow: 0 0 2px var(--hover), 0 0 5px var(--hover);
    opacity: 0.96;
  }
}
h1, h2, .headerTitle, .navItem, #reflectionText, .hud-row, .quoteBox {
  animation: hudPulse 3.5s infinite alternate;
}
#cornerGlobe {
  display: none;
  position: fixed;
  top: 12px;
  right: 12px;
  width: 120px;
  height: auto;
  z-index: 2000;
  pointer-events: none;
  -webkit-mask-image: radial-gradient(circle, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%);
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
  -webkit-mask-size: cover;
  mask-image: radial-gradient(circle, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%);
  mask-repeat: no-repeat;
  mask-position: center;
  mask-size: cover;
}
#loginOverlay {
  position: fixed;
  inset: 0;
  z-index: 1200;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, rgba(0,0,0,0.98), rgba(0,0,0,0.98));
}
.login-card {
  width: 380px;
  padding: 28px;
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(0,229,255,0.04), rgba(0,102,153,0.03));
  border: 1px solid rgba(0,229,255,0.12);
  box-shadow: 0 18px 60px rgba(0,0,0,0.7), inset 0 0 14px rgba(0,229,255,0.02);
  text-align: center;
}
.login-card h1 {
  margin: 0 0 12px;
  font-size: 20px;
  color: var(--neon);
}
.login-input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 999px;
  border: 1px solid rgba(0,229,255,0.12);
  background: rgba(0,0,0,0.45);
  color: var(--neon);
  outline: none;
  font-size: 14px;
}
.login-actions {
  margin-top: 14px;
  display: flex;
  justify-content: center;
  gap: 12px;
}
.btn-primary {
  padding: 10px 20px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  background: linear-gradient(135deg, var(--neon), #00bfff);
  color: #081018;
  font-weight: 700;
}
.login-sub {
  margin-top: 10px;
  font-size: 13px;
  color: rgba(0,229,255,0.7);
}
#hud {
  position: fixed;
  left: 18px;
  top: 12px;
  z-index: 1100;
  width: var(--hud-w);
  background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35));
  border-radius: 10px;
  padding: 10px 12px;
  border: 1px solid rgba(0,229,255,0.06);
  box-shadow: 0 8px 40px rgba(0,0,0,0.6);
  color: var(--neon);
  font-size: 13px;
}
#main {
  position: relative;
  z-index: 500;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 140px 28px 40px;
}
.hud-row {
  display: flex;
  align-items: center;
  gap: 8px;
  text-align: left;
  padding: 2px 0;
}
.hud-row i {
  min-width: 18px;
  flex-shrink: 0;
  vertical-align: middle;
}
.container {
  max-width: 1100px;
  width: 100%;
  display: flex;
  gap: 28px;
  align-items: flex-start;
  margin: 0 auto;
  position: relative;
  z-index: 5;
}
.leftCol {
  width: 320px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  align-items: flex-start;
}
.headerTitle {
  font-size: 18px;
  margin-bottom: 8px;
  color: var(--neon);
  cursor: pointer;
  user-select: none;
}
.navItem {
  width: 100%;
  padding: 16px 14px;
  border-radius: 12px;
  cursor: pointer;
  background: linear-gradient(180deg, rgba(10,12,14,0.6), rgba(18,20,22,0.55));
  border: 1px solid rgba(0,229,255,0.04);
  color: var(--neon);
  font-weight: 700;
  transition: all 0.18s ease;
}
.navItem:hover {
  background: linear-gradient(180deg, var(--neon), #00bfff);
  color: #00111b;
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(0,229,255,0.06);
}
.rightCol {
  flex: 1;
  min-height: 400px;
}
.panel {
  display: none;
  background: var(--panel);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid rgba(0,229,255,0.04);
  box-shadow: 0 20px 60px rgba(0,0,0,0.7);
  position: relative;
  z-index: 1150;
  max-height: 70vh;
  overflow: auto;
  transition: opacity 0.35s ease, transform 0.35s ease;
  opacity: 0;
  transform: translateY(8px);
}
.panel.show {
  display: block;
  opacity: 1;
  transform: translateY(0);
}
#reflectionText {
  white-space: pre-wrap;
  font-size: 14px;
  color: rgba(0,229,255,0.95);
}
#prod2-reflection {
  font-family: var(--font-main);
  font-size: 15px;
  line-height: 1.7;
  color: var(--neon);
  background: rgba(0,0,0,0.3);
  border-radius: 12px;
  padding: 14px 20px;
  max-width: 800px;
  margin-bottom: 2em;
  white-space: normal;
}
#resSubNav {
  margin-top: 12px;
  font-size: 14px;
}
#resSubNav a {
  cursor: pointer;
  color: var(--hover);
  text-decoration: underline;
}
#prod2Resources {
  margin-top: 16px;
  padding-left: 20px;
  border-left: 2px solid var(--neon);
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
  color: var(--neon);
  font-family: var(--font-main);
  font-size: 14px;
  line-height: 1.6;
}
#prod2Resources.show {
  max-height: 1000px;
}
.cursor {
  display: inline-block;
  width: 10px;
  margin-left: 6px;
  background: var(--neon);
  animation: blink 1s steps(2) infinite;
  vertical-align: middle;
}
@keyframes blink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}
/* Additional CSS omitted for brevity - use original for other layout and styles */
</style>
</head>
<body>
<div class="scanlines" aria-hidden="true"></div>

<div id="loginOverlay" role="dialog" aria-label="Login">
  <div class="login-card" role="document">
    <h1>Login</h1>
    <input id="loginPass" class="login-input" type="password" placeholder="Enter password" aria-label="Password" />
    <div class="login-actions"><button id="loginBtn" class="btn-primary" aria-label="Enter">Enter</button></div>
    <div class="login-sub">Enter the terminal</div>
  </div>
</div>

<div id="hud" aria-live="polite" aria-atomic="true">
  <div class="hud-row" id="hud-date"><i class="fa-regular fa-calendar"></i> <span id="hud-date-text">Loading date…</span></div>
  <div class="hud-row" id="hud-time"><i class="fa-regular fa-clock"></i> <span id="hud-time-text">--:--:--</span></div>
  <div class="hud-row" id="hud-loc"><i class="fa-solid fa-location-dot"></i> <span id="hud-city">Toronto</span></div>
  <div class="hud-row" id="hud-coords"><i class="fa-solid fa-crosshairs"></i> Coords: <span id="hud-coords-text">—</span></div>
  <div class="hud-row" id="hud-weather"><i class="fa-solid fa-cloud-sun"></i> <span id="hud-weather-text">—</span></div>
</div>

<main id="main">
  <div class="container">
    <div class="leftCol" role="navigation" aria-label="Main menu">
      <div class="headerTitle" id="headerToggleTerminal" tabindex="0" role="button" aria-pressed="false" aria-label="Toggle Terminal">>: ["Hello World..."]</div>
      <div id="navWho" class="navItem" role="button" tabindex="0" aria-controls="whoPanel">Whoami</div>
      <div id="navRef" class="navItem" role="button" tabindex="0" aria-controls="refPanel">Reflection</div>
      <div id="navProd" class="navItem" role="button" tabindex="0" aria-controls="prodPanel">Productions</div>
      <div id="navRes" class="navItem" role="button" tabindex="0" aria-controls="resPanel">Resources</div>
      <div id="navContact" class="navItem" role="button" tabindex="0" aria-controls="contactPanel">Contact</div>
    </div>

    <div class="rightCol">
      <section id="whoPanel" class="panel" role="region" aria-labelledby="navWho">
        <h2>Whoami</h2>
        <p><strong>/BrandonSmart</strong><br>:-$ Teachable: ComputerTechnology</p>
        <button class="backBtn" onclick="closePanel('whoPanel')">← Back</button>
      </section>

      <section id="refPanel" class="panel" role="region" aria-labelledby="navRef">
        <h2>Reflection</h2>
        <div id="reflectionText" aria-live="polite"></div><span id="reflectionCursor" class="cursor" aria-hidden="true"></span>
        <button class="backBtn" onclick="closePanel('refPanel')">← Back</button>
      </section>

      <section id="prodPanel" class="panel" role="region" aria-labelledby="navProd">
        <h2 class="glitchText" data-text="Productions">Productions</h2>
        <div class="productionsGrid" id="productionsGrid">
          <div class="prodCard" data-index="0"><h3>Production 1: Power up</h3><p>View Content</p></div>
          <div class="prodCard" data-index="1"><h3>Production 2: New Literacies Reflection</h3><p>View Reflection</p></div>
          <div class="prodCard" data-index="2"><h3>Production 3: Critical Algorithmic Literacies and AI</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="3"><h3>Production 4: Graphic Novel</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="4"><h3>Production 5: On the Way to Video Inquiry</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="5"><h3>Production 6: Video Works</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="6"><h3>Production 7: Learning Principles</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="7"><h3>Production 8: World Building</h3><p>Placeholder</p></div>
          <div class="prodCard" data-index="8"><h3>Production 9: Twine</h3><p>Placeholder</p></div>
        </div>
        <button class="backBtn" onclick="closePanel('prodPanel')">← Back</button>
      </section>

      <section id="prod2Panel" class="panel" role="region" aria-labelledby="navProd">
        <h2>Production 2: New Literacies Reflection</h2>
        <div id="prod2-reflection" aria-live="polite"></div>
        <button class="backBtn" onclick="closePanel('prod2Panel')">← Back</button>
      </section>

      <section id="resPanel" class="panel" role="region" aria-labelledby="navRes">
        <h2>Resources</h2>
        <p><a href="https://youtube.com" target="_blank" rel="noopener">YouTube</a></p>
        <p><a href="https://google.ca" target="_blank" rel="noopener">Google</a></p>
        <p><a href="https://github.com" target="_blank" rel="noopener">GitHub</a></p>
        <div id="resSubNav">
          <a id="toggleProd2Resources" role="button" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-controls="prod2Resources">Production 2 resources ▸</a>
        </div>
        <div id="prod2Resources" aria-hidden="true" role="region" tabindex="0">
          <p>ABC Life Literacy Canada. (2024). <em>Indigenous ways of learning: A resource for educators.</em> ABC Life Literacy Canada. <a href="https://abclifeliteracy.ca" target="_blank" rel="noopener">https://abclifeliteracy.ca</a></p>
          <p>Brayboy, B. M. J., & Maughan, E. (2008). Indigenous knowledges and the story of the bean. <em>Harvard Educational Review, 78</em>(4), 576–596. <a href="https://doi.org/10.17763/haer.78.4.m10t326v36g022r3" target="_blank" rel="noopener">https://doi.org/10.17763/haer.78.4.m10t326v36g022r3</a></p>
          <p>CBC. (2018, October 28). <em>Virtual reality brings Indigenous stories to life.</em> Canadian Broadcasting Corporation. <a href="https://www.cbc.ca" target="_blank" rel="noopener">https://www.cbc.ca</a></p>
          <p>First Nations Technology Council. (n.d.). <em>Indigenous digital equity and future skills.</em> First Nations Technology Council. <a href="https://technologycouncil.ca" target="_blank" rel="noopener">https://technologycouncil.ca</a></p>
          <p>Kanaeokana. (2020). <em>He Ao Hou: A new world.</em> Kanaeokana: Kula Hawai‘i Network. <a href="https://kanaeokana.net" target="_blank" rel="noopener">https://kanaeokana.net</a></p>
          <p>Levac, L., McMurtry, L., Stienstra, D., Baikie, G., Hanson, C., & Mucina, D. (2018). Learning across Indigenous and Western knowledge systems and intersectionality: Reconciling social science research approaches. <em>Canadian Review of Social Policy, 78</em>, 1–29.</p>
          <p>People for Education. (2016). <em>Competing priorities: People for Education annual report on Ontario’s publicly funded schools 2016.</em> People for Education. <a href="https://peopleforeducation.ca" target="_blank" rel="noopener">https://peopleforeducation.ca</a></p>
          <p>Sosyalarastirmalar, J. (2025). Standardized testing and Indigenous learners: A relational critique. <em>Journal of Social Research, 18</em>(2), 112–128.</p>
        </div>
        <button class="backBtn" onclick="closePanel('resPanel')">← Back</button>
      </section>

      <section id="contactPanel" class="panel" role="region" aria-labelledby="navContact">
        <h2>Contact</h2>
        <div class="contact-row">
          <i class="fa-solid fa-envelope"></i> <a href="mailto:bsmart@my.yorku.ca">bsmart@my.yorku.ca</a>
        </div>
        <button class="backBtn" onclick="closePanel('contactPanel')">← Back</button>
      </section>
    </div>
  </div>
  <div id="quote" class="quoteBox">Loading inspiration…</div>
</main>

<div id="terminalContainer" role="region" aria-label="Terminal interface" aria-live="polite" style="display:none; flex-direction: column;">
  <div id="terminalContent" aria-live="polite" aria-atomic="false" style="overflow-y: auto; flex:1;"></div>
  <div id="terminalInputContainer" style="display: flex; gap: 10px; align-items: center;">
    <div id="terminalPrompt">&gt;&nbsp;</div>
    <input id="terminalInput" type="text" autocomplete="off" aria-label="Terminal command input" style="flex:1; background: transparent; border: none; border-bottom: 1px solid var(--neon); color: var(--neon); font-family: var(--font-main); font-size: 14px; outline: none; caret-color: var(--neon); padding: 6px 10px;" />
  </div>
</div>

<div id="lightbox" role="dialog" aria-modal="true" aria-label="Screenshot preview" aria-hidden="true" style="display:none; position: fixed; inset: 0; background: rgba(0,0,0,0.96); z-index: 1300; display: flex; flex-direction: column; align-items: center; justify-content: center;">
  <img id="lbImage" alt="Screenshot" style="max-width: 80vw; max-height: 80vh; border: 3px solid var(--neon); border-radius: 8px; box-shadow: 0 0 48px #0affff;" />
  <div class="lbControls" style="margin-top: 22px; display: flex; gap: 12px; justify-content: center; z-index: 10;">
    <button id="lbPrev" aria-label="Previous">Prev</button>
    <button id="lbNext" aria-label="Next">Next</button>
    <button id="lbClose" aria-label="Close">Close</button>
  </div>
</div>

<div id="wrongGifOverlay" style="display:none; position:fixed; inset:0; justify-content:center; align-items:center; background:rgba(0,0,0,0.85); z-index:1500;">
  <img src="images/computer missing GIF.gif" alt="Wrong Password GIF" style="width:100%; height:100%; object-fit:cover;" />
</div>

<audio id="loginAudioCorrect" src="sounds/robotintro.mp3" preload="auto"></audio>
<audio id="loginAudioWrong" src="sounds/Hacked computer- Sound Effect.mp3" preload="auto"></audio>

<script>
const OWM_API_KEY = '5043108521e5dc1feccf33701c3221bf';
// Image arrays for production cards
const PROD1_IMAGES = [
  "images/Screenshot 2025-09-10 130926.png",
  "images/Screenshot 2025-09-10 123717.png",
  "images/Screenshot 2025-09-10 115645.png",
  "images/Screenshot 2025-09-10 114858.png",
  "images/Screenshot 2025-09-10 114832.png"
];
const productionImagesMap = { 0: PROD1_IMAGES };

const lb = document.getElementById('lightbox');
const lbImg = document.getElementById('lbImage');
let currImages = [], currIndex = 0;

document.querySelectorAll('.prodCard').forEach(card => {
  card.addEventListener('click', () => {
    const idx = parseInt(card.dataset.index);
    if (idx === 1) {
      openPanel('prod2Panel');
      document.getElementById('prod2-reflection').innerHTML = getProd2ReflectionHTML();
      return;
    }
    currImages = productionImagesMap[idx] || [];
    if (!currImages.length) return;
    currIndex = 0;
    lbImg.style.opacity = '0';
    setTimeout(() => {
      lbImg.src = currImages[currIndex];
      setTimeout(() => lbImg.style.opacity = '1', 100);
    }, 100);
    lb.style.display = 'flex';
    setTimeout(() => lb.classList.add('show'), 10);
  });
});

document.getElementById('lbPrev').addEventListener('click', () => {
  if (!currImages.length) return;
  currIndex = (currIndex - 1 + currImages.length) % currImages.length;
  updateLbImage();
});
document.getElementById('lbNext').addEventListener('click', () => {
  if (!currImages.length) return;
  currIndex = (currIndex + 1) % currImages.length;
  updateLbImage();
});
document.getElementById('lbClose').addEventListener('click', () => {
  lb.classList.remove('show');
  setTimeout(() => {
    lb.style.display = 'none';
  }, 350);
});

function updateLbImage() {
  lbImg.style.opacity = '0';
  setTimeout(() => {
    lbImg.src = currImages[currIndex];
    setTimeout(() => lbImg.style.opacity = '1', 100);
  }, 120);
}

// Login related
const loginOverlay = document.getElementById('loginOverlay');
const loginBtn = document.getElementById('loginBtn');
const loginPass = document.getElementById('loginPass');
const wrongGif = document.getElementById('wrongGifOverlay');
const loginAudioCorrect = document.getElementById('loginAudioCorrect');
const loginAudioWrong = document.getElementById('loginAudioWrong');
const hud = document.getElementById('hud');
const cornerGlobe = document.getElementById('cornerGlobe');

loginBtn.addEventListener('click', () => {
  const val = loginPass.value.trim();
  if(val === 'mrsmart'){
    loginOverlay.style.display = 'none';
    cornerGlobe.style.display = 'block';
    hud.style.opacity = '1';
    hud.style.visibility = 'visible';
    startHud();
    rotateQuotes();
    updateLocationWeather();
    playAudio(loginAudioCorrect);
  } else {
    loginPass.value = '';
    loginPass.placeholder = 'Incorrect — try again';
    loginPass.focus();
    loginOverlay.animate([
      {transform: 'translateX(-3px)'},
      {transform: 'translateX(3px)'},
      {transform: 'translateX(0)'},
    ], {duration: 120, iterations: 3});
    wrongGif.style.display = 'flex';
    playAudio(loginAudioWrong);
    setTimeout(() => {
      wrongGif.style.display = 'none';
      loginAudioWrong.pause();
      loginAudioWrong.currentTime = 0;
    }, 2200);
  }
});

loginPass.addEventListener('keydown', e => {
  if (e.key === 'Enter') loginBtn.click();
});

function playAudio(audioElement) {
  audioElement.muted = false;
  audioElement.volume = 0.7;
  audioElement.pause();
  audioElement.currentTime = 0;
  audioElement.play().catch(() => {});
}

// HUD time and date update
function startHud(){
  const dateEl = document.getElementById('hud-date-text');
  const timeEl = document.getElementById('hud-time-text');
  function updateTime(){
    const now = new Date();
    dateEl.textContent = now.toDateString();
    timeEl.textContent = now.toLocaleTimeString();
  }
  updateTime();
  setInterval(updateTime, 1000);
}

// Weather update
function updateLocationWeather(){
  const cityEl = document.getElementById('hud-city');
  const coordsEl = document.getElementById('hud-coords-text');
  const weatherEl = document.getElementById('hud-weather-text');
  if(!navigator.geolocation){
    coordsEl.textContent = 'Unavailable';
    weatherEl.textContent = 'Unavailable';
    return;
  }
  navigator.geolocation.getCurrentPosition(async position => {
    const {latitude, longitude} = position.coords;
    coordsEl.textContent = `${latitude.toFixed(4)}, ${longitude.toFixed(4)}`;
    try {
      const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${OWM_API_KEY}&units=metric`);
      if(!res.ok) throw new Error('Weather fetch failed');
      const data = await res.json();
      cityEl.textContent = data.name || 'Unknown';
      const desc = data.weather[0].description;
      weatherEl.textContent = `${desc.charAt(0).toUpperCase() + desc.slice(1)}, ${data.main.temp.toFixed(1)}°C`;
    } catch(error) {
      weatherEl.textContent = 'Weather unavailable';
      console.error(error);
    }
  }, error => {
    coordsEl.textContent = 'Denied';
    weatherEl.textContent = 'Weather unavailable';
    console.error(error);
  });
}

// Navigation and panel handling
document.querySelectorAll('.navItem').forEach(nav => {
  nav.addEventListener('click', () => {
    const panel = nav.getAttribute('aria-controls');
    openPanel(panel);
    if(panel === 'refPanel') {
      speakAndType(reflections[0]);
    }
    else if(panel === 'prodPanel') {
      speakAndType('Currently, this panel contains productions and placeholders.');
    }
  });
});

function openPanel(id){
  document.querySelectorAll('.panel').forEach(p => p.classList.remove('show'));
  document.getElementById(id).classList.add('show');
}
function closePanel(id){
  const panel = document.getElementById(id);
  panel.classList.remove('show');
  if (id === 'refPanel') {
    if (window.typingTimer) clearInterval(window.typingTimer);
    window.typingTimer = null;
    window.speechSynthesis.cancel();
  }
}

// Terminal toggle and commands
const headerToggleTerminal = document.getElementById('headerToggleTerminal');
const terminalContainer = document.getElementById('terminalContainer');
const terminalInput = document.getElementById('terminalInput');
const terminalContent = document.getElementById('terminalContent');
const panelNames = {
  'whoami': 'whoPanel',
  'reflection': 'refPanel',
  'productions': 'prodPanel',
  'resources': 'resPanel',
  'contact': 'contactPanel',
  'production2': 'prod2Panel',
  'back': 'back'
};
const panelIds = Object.values(panelNames);

headerToggleTerminal.addEventListener('click', () => {
  if(terminalContainer.style.display === 'flex'){
    terminalContainer.style.display = 'none';
  } else {
    terminalContainer.style.display = 'flex';
    terminalInput.focus();
  }
});

terminalInput.addEventListener('keydown', e => {
  if(e.key === 'Enter'){
    const cmd = terminalInput.value.trim().toLowerCase();
    appendTerminalOutput(`> ${cmd}`);
    executeCommand(cmd);
    terminalInput.value = '';
  }
});

function appendTerminalOutput(text){
  terminalContent.textContent += text + '\n';
  terminalContent.scrollTop = terminalContent.scrollHeight;
}

function executeCommand(cmd){
  if(cmd.length === 0) return;
  if(cmd==='back'){
    panelIds.forEach(closePanel);
    appendTerminalOutput('Closed all panels.');
  }
  else if(cmd==='exit'){
    appendTerminalOutput('Closing tab...');
    setTimeout(() => window.close(), 200);
  } 
  else if(panelNames.hasOwnProperty(cmd)){
    if(cmd === 'back') return;
    openPanel(panelNames[cmd]);
    appendTerminalOutput(`Opened panel: ${cmd}`);
    if(cmd === 'reflection'){
      speakAndType(reflections[0]);
    }
    else if(cmd === 'productions'){
      speakAndType('Currently, this panel contains productions and placeholders.');
    }
    else if(cmd === 'production2'){
      openPanel('prod2Panel');
      document.getElementById('prod2-reflection').innerHTML = getProd2ReflectionHTML();
    }
    else {
      const texts = {
        whoami: 'I am Mr. Smart',
        resources: 'Here are my resources',
        contact: 'Please send me an email if you have any further inquiries'
      };
      if(texts[cmd]) speakAndType(texts[cmd]);
    }
  } else {
    appendTerminalOutput(`Command not recognized: ${cmd}`);
  }
}

function speakAndType(text){
  if(window.typingTimer) clearInterval(window.typingTimer);
  window.speechSynthesis.cancel();
  const reflectionEl = document.getElementById('reflectionText');
  reflectionEl.textContent = '';
  let i = 0;
  const voice = window.speechSynthesis.getVoices().find(v => /female|woman/i.test(v.name)) || null;
  const utter = new SpeechSynthesisUtterance(text);
  if(voice) utter.voice = voice;
  utter.rate = 1.1;
  window.speechSynthesis.speak(utter);
  window.typingTimer = setInterval(() => {
    if(i < text.length){
      reflectionEl.textContent += text.charAt(i);
      i++;
    } else {
      clearInterval(window.typingTimer);
      window.typingTimer = null;
    }
  }, 30);
}

// Production 2 Reflection HTML content
function getProd2ReflectionHTML(){
  return `
  <p>Brayboy and Maughan’s (2008) <em>Indigenous Knowledges and the Story of the Bean</em> challenges Western education by emphasizing knowledge as a lived, relational process vital to community survival. They argue that “Indigenous knowledges… are lived and integral to survival. Truth and knowledge cannot be ends in and of themselves” (pp. 11–12), critiquing the Western tendency to treat knowledge as abstract facts. They further stress that “knowledge is not… a commodity that can be possessed or controlled by educators but rather a process that can be absorbed and understood” (p. 12), highlighting knowledge’s ethical, ongoing nature. These insights invite educators to ground learning in accountability and context rather than isolated content.</p>
  <p>The Story of the Bean illustrates knowledge embedded in Indigenous cosmology and community responsibility, contrasting Western schooling’s linear, individualistic approach. As highlighted in our class chart, Indigenous education values communal, nonlinear learning. The call for teachers to “have something at stake” in their communities (Brayboy & Maughan, 2008, p. 9) reflects this relational ethics, positioning educators as responsible participants in learners’ environments.</p>
  <p>A key concept is viewing knowledge as a verb, a living practice enacted through relationships, rather than a noun or fixed object. This challenges curriculum and assessments to privilege engagement, reflection, and responsibility over memorization.</p>
  <p>This relational approach extends into digital realms, seen in projects like <em>He Ao Hou: A New World</em> (Kanaeokana, 2020) and Indigenous Virtual Reality platforms (CBC, 2018). These initiatives immerse learners in ancestral language and stories, integrating tradition and innovation while reclaiming Indigenous presence in modern technology.</p>
  <p>Within Computer Technology education, part of my Bachelor of Tech Ed program, this framework offers Indigenous learners’ opportunities beyond environmental applications. They can develop language revitalization apps or culturally grounded educational tools, becoming creators and entrepreneurs who shape solutions grounded in their cultural contexts.</p>
  <p>Advanced technologies such as 3D printing and virtual reality amplify this potential, allowing Indigenous innovators to prototype and share ideas globally while maintaining cultural integrity. This fusion honors Indigenous knowledge’s dynamic nature and supports learners in pioneering new scientific and technological pathways.</p>
  <p>However, challenges to integrating Indigenous Knowledge in mainstream education remain. Indigenous Knowledges are diverse and sometimes internally contested, resisting singular narratives and risking romanticization (Levac et al., 2018; ABC Life Literacy Canada, 2024). Mainstream education’s emphasis on standardized content and assessment often conflicts with Indigenous relational and contextual ways of knowing (Sosyalarastirmalar, 2025). Institutional barriers, including limited Indigenous leadership and funding, further complicate authentic inclusion (People for Education, 2016). Overcoming these challenges requires epistemic pluralism and respectful dialogue valuing multiple knowledge systems equally.</p>
  <p>Supporting Indigenous learners to innovate requires more than curriculum shifts. Educational spaces must make technology meaningful culturally and practically. For example, coding language apps connects technical skills with cultural preservation. Addressing infrastructure gaps like limited internet access is critical. Mentorship from Indigenous technology professionals offers both guidance and identity affirmation. Project-based learning tied to community challenges fosters critical thinking and relevance. Teacher training in culturally sustaining pedagogy builds trust and respect, essential for deep learning. Finally, policies must empower Indigenous leadership and secure funding. These combined efforts create environments where Indigenous learners thrive academically, culturally, and creatively.</p>
  <p>Brayboy and Maughan assert that “Indigenous knowledge systems are inherently political and ethical projects rooted in survival and sovereignty” (2008, p. 22). This perspective positions Indigenous Knowledges as central, not peripheral, to education and inclusion. Honoring these systems affirms Indigenous students’ identities and ways of knowing, fostering relational accountability, critical reflection, and community engagement. Beyond supporting Indigenous learners’ success and well-being, this inclusive approach recognizes Indigenous innovators as powerful contributors and competitors in technology and digital economies. It invites all students into a richer, more ethical education, one that embraces knowledge as dynamic and culturally grounded. Thus, Indigenous Knowledge inclusion is both an ethical imperative and a strategic expansion of educational practice, embracing knowledge that is culturally rooted, transformative, and vital for evolving global knowledge and innovation systems.</p>
  `;
}

// Production 2 resource toggle
document.getElementById('toggleProd2Resources').addEventListener('click', () => {
  const prod2Res = document.getElementById('prod2Resources');
  const toggle = document.getElementById('toggleProd2Resources');
  const isShown = prod2Res.classList.toggle('show');
  prod2Res.setAttribute('aria-hidden', !isShown);
  toggle.setAttribute('aria-expanded', isShown);
  toggle.textContent = `Production 2 resources ${isShown ? '▾' : '▸'}`;
});
</script>

</body>
</html>
