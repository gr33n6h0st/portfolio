<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brandon Smart Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    :root {
      --neon: #00e5ff;
      --panel: rgba(10, 12, 15, 0.9);
      --hover: #00ffb3;
      --hud-w: 200px;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      margin: 0;
      font-family: 'Share Tech Mono', monospace;
      background: linear-gradient(180deg, #020203, #07080a);
      color: var(--neon);
      -webkit-font-smoothing: antialiased;
      user-select: none;
    }

    a {
      color: var(--neon);
      text-decoration: underline;
      cursor: pointer;
      user-select: text;
      transition: color 0.18s ease;
    }

    a:hover,
    a:focus {
      color: var(--hover);
      outline: none;
    }

    .scanlines {
      pointer-events: none;
      position: fixed;
      inset: 0;
      z-index: 40;
      background: repeating-linear-gradient(to bottom, rgba(0, 229, 255, 0.03), rgba(0, 229, 255, 0.03) 1px, transparent 1px,
          transparent 3px);
      opacity: 0.18;
      filter: brightness(0.9);
      -webkit-mask-image: radial-gradient(circle at center, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 70%, rgba(0, 0, 0, 0.85) 100%);
      mask-image: radial-gradient(circle at center, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 70%, rgba(0, 0, 0, 0.85) 100%);
    }

    #cornerGlobe {
      display: none;
      position: fixed;
      top: 12px;
      right: 12px;
      width: 120px !important;
      height: 120px;
      border-radius: 50%;
      z-index: 3000;
      pointer-events: none;
      -webkit-mask-image: radial-gradient(circle, #000 85%, transparent 100%);
      mask-image: radial-gradient(circle, #000 85%, transparent 100%);
      box-shadow: none;
    }

    #loginOverlay {
      position: fixed;
      inset: 0;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.98), rgba(0, 0, 0, 0.98));
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1200;
    }

    .login-card {
      width: 380px;
      padding: 28px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(0, 229, 255, 0.04), rgba(0, 102, 153, 0.03));
      border: 1px solid rgba(0, 229, 255, 0.12);
      box-shadow: 0 18px 60px rgba(0, 0, 0, 0.7), inset 0 0 14px rgba(0, 229, 255, 0.02);
      text-align: center;
      color: var(--neon);
    }

    .login-card h1 {
      font-weight: 700;
      margin: 0 0 12px;
      font-size: 20px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      text-shadow: 0 0 5px var(--neon);
      user-select: none;
    }

    .login-input {
      width: 100%;
      padding: 12px 14px;
      border-radius: 999px;
      border: 1px solid rgba(0, 229, 255, 0.12);
      background: rgba(0, 0, 0, 0.45);
      color: var(--neon);
      outline: none;
      font-size: 14px;
      font-family: 'Share Tech Mono', monospace;
      letter-spacing: 0.05em;
      transition: border-color 0.18s ease;
      user-select: text;
    }

    .login-input:focus {
      border-color: var(--hover);
    }

    .login-actions {
      margin-top: 12px;
      display: flex;
      justify-content: center;
      gap: 8px;
    }

    .btn-primary {
      padding: 8px 16px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: linear-gradient(135deg, var(--neon), #00bfff);
      color: #081018;
      font-weight: 700;
      font-size: 0.85em;
      letter-spacing: 0.1em;
      box-shadow: 0 0 24px var(--neon);
      user-select: none;
    }

    .btn-primary:hover {
      background: var(--hover);
    }

    .login-sub {
      margin-top: 20px;
      font-weight: 600;
      color: rgba(0, 229, 255, 0.7);
      font-size: 13px;
      user-select: none;
    }

    #hud {
      position: fixed;
      top: 12px;
      left: 18px;
      width: var(--hud-w);
      padding: 8px 14px;
      border-radius: 12px;
      background: var(--panel);
      border: 1px solid rgba(0, 229, 255, 0.15);
      box-shadow: none;
      font-size: 13px;
      color: var(--neon);
      opacity: 0;
      visibility: hidden;
      text-align: left;
      z-index: 3000;
    }

    .hud-row {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 2px 0;
    }

    .hud-row i {
      min-width: 18px;
      flex-shrink: 0;
      vertical-align: middle;
    }

    #main {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 120px 28px 40px;
      z-index: 1000;
    }

    .container {
      max-width: 1100px;
      width: 100%;
      display: flex;
      gap: 28px;
      align-items: flex-start;
      margin: 0 auto;
    }

    .leftCol {
      width: 320px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      align-items: flex-start;
    }

    .headerTitle {
      font-size: 20px;
      margin-bottom: 12px;
      color: var(--neon);
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      text-shadow: 0 0 8px var(--neon);
      position: relative;
      user-select: none;
    }

    .navItem {
      width: 100%;
      padding: 16px 14px;
      border-radius: 12px;
      cursor: pointer;
      background: linear-gradient(180deg, rgba(10, 12, 14, 0.6), rgba(18, 20, 22, 0.55));
      border: 1px solid rgba(0, 229, 255, 0.04);
      color: var(--neon);
      font-weight: 700;
      letter-spacing: 0.07em;
      transition: all 0.2s ease;
      box-shadow: 0 0 6px rgba(0, 229, 255, 0.3);
    }

    .navItem:hover {
      background: linear-gradient(180deg, var(--neon), #00bfff);
      color: #00111b;
      transform: translateY(-5px);
      box-shadow: 0 0 20px var(--neon);
    }

    .rightCol {
      flex: 1;
      min-height: 400px;
    }

    .panel {
      display: none;
      background: var(--panel);
      border-radius: 12px;
      padding: 20px;
      border: 1px solid rgba(0, 229, 255, 0.04);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
      position: relative;
      max-height: 70vh;
      overflow: auto;
      color: var(--neon);
      font-size: 15px;
      letter-spacing: 0.04em;
      z-index: 1150;
    }

    .panel.show {
      display: block;
    }

    .panel h2 {
      margin-top: 0;
      margin-bottom: 14px;
      color: var(--hover);
      font-weight: 700;
      text-transform: uppercase;
      text-shadow: 0 0 12px var(--hover);
    }

    .reflection-typed {
      font-family: monospace;
      white-space: pre-wrap;
      font-size: 15px;
      line-height: 1.5em;
      color: var(--neon);
      letter-spacing: 0.05em;
      margin-bottom: 8px;
      position: relative;
      min-height: 12em;
    }

    .cursor {
      display: inline-block;
      width: 10px;
      margin-left: 6px;
      background: var(--neon);
      animation: cursorBlink 1s step-start infinite;
      vertical-align: middle;
    }

    @keyframes cursorBlink {
      0%,
      50% {
        opacity: 1;
      }

      51%,
      100% {
        opacity: 0;
      }
    }

    .productionsGrid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }

    .prodCard {
      padding: 18px;
      border-radius: 10px;
      border: 1px solid rgba(0, 229, 255, 0.05);
      background: linear-gradient(180deg, rgba(0, 0, 0, 0.5), rgba(12, 12, 14, 0.35));
      cursor: pointer;
      transition: all 0.18s ease;
      box-shadow: 0 0 6px rgba(0, 229, 255, 0.15);
    }

    .prodCard h3 {
      margin: 0 0 8px;
      font-size: 16px;
      font-weight: 700;
      color: var(--hover);
      letter-spacing: 0.05em;
    }

    .prodCard p {
      font-size: 14px;
      font-weight: 500;
      color: rgba(0, 229, 255, 0.7);
      letter-spacing: 0.03em;
    }

    .prodCard:hover {
      background: linear-gradient(180deg, var(--neon), #00bfff);
      color: #001018;
      transform: translateY(-6px);
      box-shadow: 0 20px 40px rgba(0, 229, 255, 0.3);
    }

    .prodCard:hover h3 {
      color: #001018;
    }

    #lightbox {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 1300;
      background: rgba(0, 0, 0, 0.96);
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: opacity 0.35s ease;
      opacity: 0;
    }

    #lightbox.show {
      display: flex;
      opacity: 1;
    }

    #lbImage {
      max-width: 80vw;
      max-height: 80vh;
      border: 3px solid var(--neon);
      border-radius: 8px;
      box-shadow: 0 0 48px #0af2;
      background: #000;
      transition: opacity 0.4s ease;
      opacity: 1;
      position: relative;
      z-index: 2;
    }

    .lbControls {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 14px;
      justify-content: center;
      z-index: 10;
      background: rgba(0, 0, 0, 0.5);
      padding: 4px 16px;
      border-radius: 8px;
      user-select: none;
      pointer-events: auto;
    }

    .lbControls button {
      min-width: 60px;
      padding: 6px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: var(--neon);
      color: #001018;
      font-weight: 700;
      font-size: 0.9em;
      letter-spacing: 0.06em;
      transition: background 0.15s ease, color 0.15s ease, transform 0.15s ease;
    }

    .lbControls button:hover {
      background: var(--hover);
      color: #06222f;
      transform: translateY(-2px) scale(1.04);
    }

    .backBtn {
      margin-top: 12px;
      padding: 8px 12px;
      border-radius: 8px;
      background: transparent;
      border: 1px solid rgba(0, 229, 255, 0.06);
      color: var(--neon);
      cursor: pointer;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .backBtn:hover {
      background: rgba(0, 229, 255, 0.06);
      color: #001018;
    }

    .quoteBox {
      margin-top: 40px;
      text-align: center;
      font-size: 16px;
      color: rgba(0, 229, 255, 0.85);
      transition: opacity 0.6s ease;
      min-height: 40px;
    }

    #commandLine {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--panel);
      padding: 10px 16px;
      font-family: 'Share Tech Mono', monospace;
      font-size: 14px;
      color: var(--neon);
      display: flex;
      align-items: center;
      z-index: 4000;
      border-top: none;
    }

    #cmdPrompt {
      margin-right: 10px;
      font-weight: 700;
    }

    #cmdInput {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--neon);
      outline: none;
      font-family: inherit;
      font-size: inherit;
      letter-spacing: 0.04em;
      user-select: text;
    }

    @media (max-width: 980px) {
      .container {
        flex-direction: column;
      }

      .leftCol {
        width: 100%;
        order: 2;
      }

      .rightCol {
        order: 1;
      }

      #hud {
        left: 10px;
        top: 12px;
        width: 180px;
      }

      #cornerGlobe {
        width: 100px !important;
        height: 100px;
      }
    }
  </style>
</head>

<body>
  <div class="scanlines" aria-hidden="true"></div>
  <img src="images/globeglow.gif" id="cornerGlobe" alt="Globe Glow" style="display:none; border-radius:50%;" />

  <div id="loginOverlay" role="dialog" aria-label="Login" aria-modal="true">
    <div class="login-card" role="document">
      <h1>Login</h1>
      <input id="loginPass" class="login-input" type="password" placeholder="Enter password" aria-label="Password" autocomplete="off"
        autocorrect="off" autocapitalize="off" spellcheck="false" />
      <div class="login-actions">
        <button id="loginBtn" class="btn-primary" aria-label="Enter">Enter</button>
      </div>
      <div class="login-sub">Enter the terminal</div>
    </div>
  </div>

  <div id="wrongGifOverlay" aria-hidden="true" role="alert" tabindex="-1">
    <img src="images/computer missing GIF.gif" alt="Wrong Password GIF" />
  </div>

  <div id="hud" aria-live="polite" aria-label="Heads Up Display">
    <div class="hud-row" id="hud-date"><i class="fa-regular fa-calendar"></i> <span id="hud-date-text">Loading date…</span></div>
    <div class="hud-row" id="hud-time"><i class="fa-regular fa-clock"></i> <span id="hud-time-text">--:--:--</span></div>
    <div class="hud-row" id="hud-loc"><i class="fa-solid fa-location-dot"></i> <span id="hud-city">Toronto</span></div>
    <div class="hud-row" id="hud-coords"><i class="fa-solid fa-crosshairs"></i> Coords: <span id="hud-coords-text">—</span></div>
    <div class="hud-row" id="hud-weather"><i class="fa-solid fa-cloud-sun"></i> <span id="hud-weather-text">—</span></div>
  </div>

  <main id="main" role="main" tabindex="-1">
    <div class="container">
      <div class="leftCol" aria-hidden="false">
        <div class="headerTitle">>: ["Hello World..."]</div>
        <div id="navWho" class="navItem" role="button" tabindex="0" aria-controls="whoPanel">Whoami</div>
        <div id="navRef" class="navItem" role="button" tabindex="0" aria-controls="refPanel">Reflection</div>
        <div id="navProd" class="navItem" role="button" tabindex="0" aria-controls="prodPanel">Productions</div>
        <div id="navRes" class="navItem" role="button" tabindex="0" aria-controls="resPanel">Resources</div>
        <div id="navContact" class="navItem" role="button" tabindex="0" aria-controls="contactPanel">Contact</div>
      </div>

      <div class="rightCol">
        <!-- Insert panels here -->
      </div>
    </div>

    <div id="quote" class="quoteBox" aria-live="polite">Loading inspiration…</div>
  </main>

  <div id="commandLine" role="region" aria-label="Command line input" aria-live="polite">
    <div id="cmdPrompt">&gt;</div>
    <input type="text" id="cmdInput" autocomplete="off" aria-label="Type a command here" />
  </div>

  <audio id="loginAudioCorrect" src="sounds/BC_Audio.mp3" preload="auto"></audio>
  <audio id="loginAudioWrong" src="sounds/Hacked computer- Sound Effect.mp3" preload="auto"></audio>
  <audio id="keyboardClick" src="sounds/keyboard-click.mp3" preload="auto"></audio>

  <script>
    const loginOverlay = document.getElementById('loginOverlay');
    const loginBtn = document.getElementById('loginBtn');
    const loginPass = document.getElementById('loginPass');
    const wrongGif = document.getElementById('wrongGifOverlay');
    const loginAudioCorrect = document.getElementById('loginAudioCorrect');
    const loginAudioWrong = document.getElementById('loginAudioWrong');
    const hud = document.getElementById('hud');
    const cityEl = document.getElementById('hud-city');
    const coordsEl = document.getElementById('hud-coords-text');
    const weatherEl = document.getElementById('hud-weather-text');
    const dateEl = document.getElementById('hud-date-text');
    const timeEl = document.getElementById('hud-time-text');
    const cornerGlobe = document.getElementById('cornerGlobe');

    loginPass.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') loginBtn.click();
    });

    loginBtn.addEventListener('click', () => {
      const val = (loginPass.value || '').trim();
      if (val === 'mrsmart') {
        loginOverlay.style.display = 'none';
        cornerGlobe.style.display = 'block';
        hud.style.opacity = '1';
        hud.style.visibility = 'visible';

        updateDateTime();
        if (window.dateTimeInterval) clearInterval(window.dateTimeInterval);
        window.dateTimeInterval = setInterval(updateDateTime, 1000);

        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            (position) => {
              const lat = position.coords.latitude;
              const lon = position.coords.longitude;
              coordsEl.textContent = `${lat.toFixed(4)}, ${lon.toFixed(4)}`;
              fetchWeather(lat, lon);
            },
            (err) => {
              coordsEl.textContent = 'Denied';
              weatherEl.textContent = 'Unavailable';
              cityEl.textContent = 'Unknown';
              console.warn('Geolocation permission denied or error:', err);
            },
            { timeout: 8000 }
          );
        } else {
          coordsEl.textContent = 'Unsupported';
          weatherEl.textContent = 'Unavailable';
          cityEl.textContent = 'Unknown';
        }

        playAudio(loginAudioCorrect);
      } else {
        loginPass.value = '';
        loginPass.placeholder = 'Incorrect — try again';
        loginPass.focus();

        loginOverlay.animate([{ transform: 'translateX(-2px)' }, { transform: 'translateX(2px)' }, { transform: 'translateX(0)' }], {
          duration: 120,
          iterations: 3,
        });

        wrongGif.style.display = 'flex';
        playAudio(loginAudioWrong);

        setTimeout(() => {
          wrongGif.style.display = 'none';
          loginAudioWrong.pause();
          loginAudioWrong.currentTime = 0;
        }, 2200);
      }
    });

    function playAudio(audioEl) {
      audioEl.muted = false;
      audioEl.volume = 0.7;
      audioEl.pause();
      audioEl.currentTime = 0;
      audioEl.play().catch(() => {});
    }

    function updateDateTime() {
      const now = new Date();
      dateEl.textContent = now.toDateString();
      timeEl.textContent = now.toLocaleTimeString();
    }

    function fetchWeather(lat, lon) {
      const apiKey = '5043108521e5dc1feccf33701c3221bf';
      const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`;

      fetch(url)
        .then((res) => {
          if (!res.ok) throw new Error('Weather fetch failed');
          return res.json();
        })
        .then((data) => {
          cityEl.textContent = data.name || 'Unknown';
          let desc = data.weather[0].description;
          desc = desc.charAt(0).toUpperCase() + desc.slice(1);
          weatherEl.textContent = `${desc}, ${data.main.temp.toFixed(1)}°C`;
        })
        .catch((err) => {
          weatherEl.textContent = 'Unavailable';
          console.warn(err);
        });
    }

    // Add your openPanel, closePanel, production gallery, reflection typing,
    // and terminal input command functions here from your existing scripts.
  </script>
</body>

</html>
